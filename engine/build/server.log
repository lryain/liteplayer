nohup: ignoring input
========================================
  Music Player Server
  Phase 4 - ZMQ Remote Control
========================================

[Server] Using config file: /home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/config/music_player.yaml
[ConfigLoader] Database path: data/music_library.db -> /home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/engine/build/data/music_library.db
[ConfigLoader] Configuration loaded successfully
[MusicPlayerService] ZMQ initialized
  Command endpoint: ipc:///tmp/music_player_cmd.sock
  Event endpoint: ipc:///tmp/music_player_event.sock
[MusicLibrary] Database opened: /home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/engine/build/data/music_library.db
[LitePlayerWrapper] Initialized successfully
[PlaybackController] Initialized successfully
[MusicPlayerService] Scanning music directories...
[MusicPlayerService] Scanning directory: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music
[0;34m2026-02-12 16:49:47:659 D mlooper: [ael-listplayer]: Entry looper thread: thread_id=[0x7fadb25f40]
[0m  Found 12 tracks
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/salsa.wav
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/huangmeixi.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/rock.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/trot.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/funk.mp3
[MusicLibrary] Added 12/12 tracks
  Added 12 new tracks to database
[MusicPlayerService] Scanning directory: /home/pi/Music/
  Found 43 tracks
[MusicLibrary] Track already exists: /home/pi/Music/test/sheep.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/pig.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/kookaburra.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/elephant.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/zebra.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/cow.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/leopard.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/dog.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/budgie_chirps1.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/cat.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/whale.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/budgie_chirps2.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/goose.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/bird.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/coyote.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/crow.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/bear.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/tiger.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/snake.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/frog.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/chimpanzee.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/rooster.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/owl.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/wolf.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/lion.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/donkey.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/chicken.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/horse.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/duck.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/dolphin.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/gibbon.wav
[MusicLibrary] Track already exists: /home/pi/Music/test/bee.wav
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/09 Do That To Me One More Time.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/10 I Know Him So Well.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/07 Up Where We Belong.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/04 Endless Love.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/05 Beauty And The Beast.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/02 Don't Know Much.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/01 Tonight,I celebrate My Love.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/06 When I Fall In Love.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/11 Top Of The World.mp3
[MusicLibrary] Track already exists: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3
[MusicLibrary] Added 43/43 tracks
  Added 43 new tracks to database
[MusicPlayerService] Scan complete: 55 tracks added
[MusicPlayerService] Syncing 87 tracks from database to playlist...
  ‚úì Added: 01 Tonight,I celebrate My Love (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/01 Tonight,I celebrate My Love.mp3)
  ‚úì Added: 02 Don't Know Much (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/02 Don't Know Much.mp3)
  ‚úì Added: 03 A Whole New World (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3)
  ‚úì Added: 04 Endless Love (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/04 Endless Love.mp3)
  ‚úì Added: 05 Beauty And The Beast (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/05 Beauty And The Beast.mp3)
  ‚úì Added: 06 When I Fall In Love (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/06 When I Fall In Love.mp3)
  ‚úì Added: 07 Up Where We Belong (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/07 Up Where We Belong.mp3)
  ‚úì Added: 08 Don't Let The Sun Go Down On Me (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3)
  ‚úì Added: 09 Do That To Me One More Time (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/09 Do That To Me One More Time.mp3)
  ‚úì Added: 10 I Know Him So Well (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/10 I Know Him So Well.mp3)
  ‚úì Added: 11 Top Of The World (/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/11 Top Of The World.mp3)
  ‚úì Added: AlanWalker-Faded (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3)
  ‚úì Added: ballad (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3)
  ‚úì Added: bear (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bear.wav)
  ‚úì Added: bear (/home/pi/Music/test/bear.wav)
  ‚úì Added: bee (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bee.wav)
  ‚úì Added: bee (/home/pi/Music/test/bee.wav)
  ‚úì Added: bird (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav)
  ‚úì Added: bird (/home/pi/Music/test/bird.wav)
  ‚úì Added: birthday (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav)
  ‚úì Added: budgie_chirps1 (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav)
  ‚úì Added: budgie_chirps1 (/home/pi/Music/test/budgie_chirps1.wav)
  ‚úì Added: budgie_chirps2 (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav)
  ‚úì Added: budgie_chirps2 (/home/pi/Music/test/budgie_chirps2.wav)
  ‚úì Added: cat (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cat.wav)
  ‚úì Added: cat (/home/pi/Music/test/cat.wav)
  ‚úì Added: chicken (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chicken.wav)
  ‚úì Added: chicken (/home/pi/Music/test/chicken.wav)
  ‚úì Added: chimpanzee (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chimpanzee.wav)
  ‚úì Added: chimpanzee (/home/pi/Music/test/chimpanzee.wav)
  ‚úì Added: classic (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3)
  ‚úì Added: cow (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cow.wav)
  ‚úì Added: cow (/home/pi/Music/test/cow.wav)
  ‚úì Added: coyote (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/coyote.wav)
  ‚úì Added: coyote (/home/pi/Music/test/coyote.wav)
  ‚úì Added: crow (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/crow.wav)
  ‚úì Added: crow (/home/pi/Music/test/crow.wav)
  ‚úì Added: dog (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dog.wav)
  ‚úì Added: dog (/home/pi/Music/test/dog.wav)
  ‚úì Added: dolphin (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dolphin.wav)
  ‚úì Added: dolphin (/home/pi/Music/test/dolphin.wav)
  ‚úì Added: donkey (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/donkey.wav)
  ‚úì Added: donkey (/home/pi/Music/test/donkey.wav)
  ‚úì Added: duck (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/duck.wav)
  ‚úì Added: duck (/home/pi/Music/test/duck.wav)
  ‚úì Added: elephant (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/elephant.wav)
  ‚úì Added: elephant (/home/pi/Music/test/elephant.wav)
  ‚úì Added: exercise (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3)
  ‚úì Added: frog (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/frog.wav)
  ‚úì Added: frog (/home/pi/Music/test/frog.wav)
  ‚úì Added: funk (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/funk.mp3)
  ‚úì Added: gibbon (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/gibbon.wav)
  ‚úì Added: gibbon (/home/pi/Music/test/gibbon.wav)
  ‚úì Added: goose (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/goose.wav)
  ‚úì Added: goose (/home/pi/Music/test/goose.wav)
  ‚úì Added: horse (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/horse.wav)
  ‚úì Added: horse (/home/pi/Music/test/horse.wav)
  ‚úì Added: huangmeixi (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/huangmeixi.mp3)
  ‚úì Added: kookaburra (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/kookaburra.wav)
  ‚úì Added: kookaburra (/home/pi/Music/test/kookaburra.wav)
  ‚úì Added: leopard (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/leopard.wav)
  ‚úì Added: leopard (/home/pi/Music/test/leopard.wav)
  ‚úì Added: lion (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/lion.wav)
  ‚úì Added: lion (/home/pi/Music/test/lion.wav)
  ‚úì Added: nature (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3)
  ‚úì Added: nature-60s (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3)
  ‚úì Added: owl (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
  ‚úì Added: owl (/home/pi/Music/test/owl.wav)
  ‚úì Added: pig (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/pig.wav)
  ‚úì Added: pig (/home/pi/Music/test/pig.wav)
  ‚úì Added: rock (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/rock.mp3)
  ‚úì Added: rooster (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/rooster.wav)
  ‚úì Added: rooster (/home/pi/Music/test/rooster.wav)
  ‚úì Added: salsa (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/salsa.wav)
  ‚úì Added: sheep (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/sheep.wav)
  ‚úì Added: sheep (/home/pi/Music/test/sheep.wav)
  ‚úì Added: snake (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/snake.wav)
  ‚úì Added: snake (/home/pi/Music/test/snake.wav)
  ‚úì Added: tiger (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/tiger.wav)
  ‚úì Added: tiger (/home/pi/Music/test/tiger.wav)
  ‚úì Added: trot (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/trot.mp3)
  ‚úì Added: whale (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/whale.wav)
  ‚úì Added: whale (/home/pi/Music/test/whale.wav)
  ‚úì Added: wolf (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/wolf.wav)
  ‚úì Added: wolf (/home/pi/Music/test/wolf.wav)
  ‚úì Added: zebra (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/zebra.wav)
  ‚úì Added: zebra (/home/pi/Music/test/zebra.wav)
[MusicPlayerService] Playlist now has 87 tracks
[MusicPlayerService] Service initialized successfully
[MusicPlayerService] Command loop started
[MusicPlayerService] Service started
[Server] Service is running. Press Ctrl+C to stop.

[MusicPlayerService] Event loop started
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: stopped (pos: 0ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_all_tracks
[MusicPlayerService] Sending response for: get_all_tracks
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_all_tracks
[MusicPlayerService] Sending response for: get_all_tracks
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play_by_filter
[PlaybackController::playTrack] ========== START (index=49) ==========
[PlaybackController::playTrack] Seeking to index 49
[PlaybackController::playTrack] Starting track at index 49
[PlaybackController] startCurrentTrackInternal: "frog" (path=/home/pi/Music/test/frog.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/test/frog.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/frog.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/frog.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:49:56:490 I [liteplayer]core: Set player source: /home/pi/Music/test/frog.wav
[0m[0;34m2026-02-12 16:49:56:490 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[0;32m2026-02-12 16:49:56:490 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:49:56:490 D [liteplayer]file: Opening file:/home/pi/Music/test/frog.wav, content_pos:0
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]wav_extractor:   >dataSize             : 155224
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:49:56:498 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[155268], duration[1000ms]
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:49:56:498 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::playTrack] ========== END (result=1) ==========
[0;32m2026-02-12 16:49:56:990 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] Sending response for: play_by_filter
[0;34m2026-02-12 16:49:56:990 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:49:56:990 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:49:56:990 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:49:56:990 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[MusicPlayerService] Response sent
[0;34m2026-02-12 16:49:56:990 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:49:56:990 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:49:56:990 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:49:56:990 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1271442160
[MusicPlayerService] Received command: play_by_filter
[PlaybackController::playTrack] ========== START (index=17) ==========
[PlaybackController::playTrack] Seeking to index 17
[PlaybackController::playTrack] Stopping current playback before switching
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:49:57:499 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:49:57:594 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:49:57:594 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:49:57:594 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:49:57:969 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:49:57:969 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:49:57:969 D [liteplayer]file: Closing file:0x7fa0000b60
[0m[0;34m2026-02-12 16:49:57:969 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:49:57:969 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:49:57:969 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:49:57:969 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:49:57:969 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::playTrack] Starting track at index 17
[PlaybackController] startCurrentTrackInternal: "bird" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:49:58:219 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav
[0m[0;34m2026-02-12 16:49:58:219 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:49:58:219 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:49:58:219 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav, content_pos:0
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]wav_extractor:   >dataSize             : 260184
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:49:58:227 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[260228], duration[2000ms]
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:49:58:227 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::playTrack] ========== END (result=1) ==========
[0;32m2026-02-12 16:49:58:720 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] Sending response for: play_by_filter
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:49:58:720 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:49:58:720 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:49:58:720 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:49:58:720 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:49:58:720 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:49:58:720 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:49:58:720 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:49:58:720 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1271526192
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 0
[PlaybackController] Play mode set to: 0
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Already playing
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "bird"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: pause
[PlaybackController] Paused
[MusicPlayerService] ‚è∏Ô∏è  Paused at 1859ms
[0;32m2026-02-12 16:50:00:246 I [liteplayer]core: Pausing player[file]
[0m[MusicPlayerService] Sending response for: pause
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:00:344 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:00:344 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:00:344 D [liteplayer]alsa: closing alsa
[0m[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 1
[PlaybackController] Play mode set to: 1
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Already playing
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "bird"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:00:718 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;34m2026-02-12 16:50:00:718 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:00:718 D [liteplayer]core: [ file-wav_decoder ] Receive paused event
[0m[0;34m2026-02-12 16:50:00:719 D [liteplayer]audio_element: [wav_decoder] Element paused
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 3
[PlaybackController] State transition: 2 -> 3 (isTransitioning=0)
[MusicPlayerService] Received command: pause
[PlaybackController] Not playing, cannot pause
[MusicPlayerService] Sending response for: pause
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 2
[PlaybackController] Play mode set to: 2
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Resuming from pause
[PlaybackController] Resumed
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "bird"
[0;32m2026-02-12 16:50:01:700 I [liteplayer]core: Resuming player[file]
[0m[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:01:700 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:01:700 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;32m2026-02-12 16:50:01:700 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:50:01:700 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1271664232
[0;34m2026-02-12 16:50:01:702 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:01:702 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:50:01:704 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 3 -> 2 (isTransitioning=0)
[0;34m2026-02-12 16:50:02:221 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:02:221 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:02:221 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:02:593 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:02:593 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:02:593 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:02:594 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:02:594 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (bird)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "sheep" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/sheep.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:02:597 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:02:597 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:02:597 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/sheep.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/sheep.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/sheep.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:02:797 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/sheep.wav
[0m[0;34m2026-02-12 16:50:02:798 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:02:798 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:02:798 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/sheep.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]wav_extractor:   >dataSize             : 147798
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:02:807 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[147842], duration[1000ms]
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:02:807 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:03:298 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:50:03:298 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:03:298 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:03:298 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:03:298 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[MusicPlayerService] Received command: pause
[PlaybackController] Not playing, cannot pause
[0;32m2026-02-12 16:50:03:298 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:50:03:298 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:50:03:298 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[MusicPlayerService] Sending response for: pause
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:03:298 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1271742168
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 3
[PlaybackController] Play mode set to: 3
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Already playing
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "sheep"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: pause
[PlaybackController] Paused
[MusicPlayerService] ‚è∏Ô∏è  Paused at 1419ms
[MusicPlayerService] Sending response for: pause
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:50:04:520 I [liteplayer]core: Pausing player[file]
[0m[0;34m2026-02-12 16:50:04:594 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:04:594 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:04:594 D [liteplayer]alsa: closing alsa
[0m[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 0
[PlaybackController] Play mode set to: 0
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:04:843 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;34m2026-02-12 16:50:04:844 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:04:844 D [liteplayer]core: [ file-wav_decoder ] Receive paused event
[0m[0;34m2026-02-12 16:50:04:844 D [liteplayer]audio_element: [wav_decoder] Element paused
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 3
[PlaybackController] State transition: 2 -> 3 (isTransitioning=0)
[MusicPlayerService] Received command: set_loop_count
[PlaylistManager] Loop count set to: 3
[MusicPlayerService] Sending response for: set_loop_count
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Resuming from pause
[PlaybackController] Resumed
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "sheep"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:50:05:044 I [liteplayer]core: Resuming player[file]
[0m[0;34m2026-02-12 16:50:05:044 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:05:045 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;32m2026-02-12 16:50:05:045 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:50:05:045 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1271826152
[0;34m2026-02-12 16:50:05:046 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:05:046 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:50:05:046 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 3 -> 2 (isTransitioning=0)
[0;34m2026-02-12 16:50:05:048 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:05:048 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:05:048 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:05:218 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:05:218 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:05:218 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:05:218 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:05:218 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (sheep)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "sheep" (path=/home/pi/Music/test/sheep.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:05:226 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:05:226 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:05:226 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/sheep.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/sheep.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/sheep.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:05:426 I [liteplayer]core: Set player source: /home/pi/Music/test/sheep.wav
[0m[0;34m2026-02-12 16:50:05:426 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:05:426 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:05:426 D [liteplayer]file: Opening file:/home/pi/Music/test/sheep.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]wav_extractor:   >dataSize             : 147798
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:05:433 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[147842], duration[1000ms]
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:05:433 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: stopped (pos: 0ms)
[0;32m2026-02-12 16:50:05:927 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] Sending response for: get_status
[0;34m2026-02-12 16:50:05:927 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:05:927 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:05:927 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:05:927 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:50:05:927 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:50:05:927 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:50:05:927 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 16:50:05:927 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1271868160
[0;34m2026-02-12 16:50:07:222 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:07:222 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:07:222 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:07:593 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:07:594 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:07:594 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:07:594 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:07:594 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (sheep)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "snake" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/snake.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:07:594 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:07:594 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:07:594 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/snake.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/snake.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/snake.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:07:794 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/snake.wav
[0m[0;34m2026-02-12 16:50:07:794 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:07:794 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:07:794 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/snake.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]wav_extractor:   >dataSize             : 776158
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:07:802 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[776202], duration[8000ms]
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:07:802 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:08:294 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:50:08:294 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:08:294 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:08:294 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:08:294 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:50:08:295 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:50:08:295 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:50:08:295 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:50:08:295 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1271982160
[0;34m2026-02-12 16:50:16:094 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:16:094 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:16:094 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:16:468 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:16:468 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:16:468 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:16:468 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:16:468 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (snake)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "snake" (path=/home/pi/Music/test/snake.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:16:472 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:16:472 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:16:472 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/snake.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/snake.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/snake.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:16:672 I [liteplayer]core: Set player source: /home/pi/Music/test/snake.wav
[0m[0;34m2026-02-12 16:50:16:672 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:16:672 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:16:672 D [liteplayer]file: Opening file:/home/pi/Music/test/snake.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]wav_extractor:   >dataSize             : 776158
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:16:679 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[776202], duration[8000ms]
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:16:679 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:17:172 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:50:17:172 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:17:172 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:17:172 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:17:172 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:50:17:172 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:50:17:172 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:50:17:172 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:50:17:172 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1272408160
[0;34m2026-02-12 16:50:24:973 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:24:973 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:24:973 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:25:343 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:25:343 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:25:343 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:25:343 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:25:343 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (snake)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "tiger" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/tiger.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:25:347 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:25:347 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:25:347 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/tiger.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/tiger.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/tiger.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:25:547 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/tiger.wav
[0m[0;34m2026-02-12 16:50:25:547 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:25:547 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:25:547 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/tiger.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]wav_extractor:   >dataSize             : 277062
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:25:555 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[277106], duration[2000ms]
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:25:555 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:26:047 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:50:26:047 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:26:047 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:26:047 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:26:047 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:50:26:047 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:50:26:047 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:50:26:047 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:50:26:047 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1272834152
[0;34m2026-02-12 16:50:28:599 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:28:599 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:28:599 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:28:969 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:28:969 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:28:969 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:28:969 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:28:969 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (tiger)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "tiger" (path=/home/pi/Music/test/tiger.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[0;32m2026-02-12 16:50:28:972 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:28:972 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:28:972 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[LitePlayerWrapper] reset result=0
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/test/tiger.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/tiger.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/tiger.wav
[0;32m2026-02-12 16:50:29:173 I [liteplayer]core: Set player source: /home/pi/Music/test/tiger.wav
[0m[0;34m2026-02-12 16:50:29:173 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[0;32m2026-02-12 16:50:29:173 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:29:173 D [liteplayer]file: Opening file:/home/pi/Music/test/tiger.wav, content_pos:0
[0m[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;34m2026-02-12 16:50:29:180 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]wav_extractor:   >dataSize             : 277062
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:29:180 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[277106], duration[2000ms]
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:29:180 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:29:674 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:50:29:674 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:29:674 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:29:674 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:29:674 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:50:29:674 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 16:50:29:674 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:50:29:674 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[0;34m2026-02-12 16:50:29:674 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1273008320
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 3
[PlaybackController] Play mode set to: 3
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:32:222 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:32:222 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:32:222 D [liteplayer]alsa: closing alsa
[0m[MusicPlayerService] Received command: set_loop_count
[PlaylistManager] Loop count set to: 2
[MusicPlayerService] Sending response for: set_loop_count
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play_by_filter
[PlaybackController::playTrack] ========== START (index=22) ==========
[PlaybackController::playTrack] Seeking to index 22
[PlaybackController::playTrack] Stopping current playback before switching
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:50:32:275 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:50:32:593 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:32:593 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:32:593 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:32:593 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:32:593 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[0;34m2026-02-12 16:50:32:594 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:50:32:594 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:32:594 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:32:594 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::playTrack] Starting track at index 22
[PlaybackController] startCurrentTrackInternal: "budgie_chirps2" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:32:844 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[0m[0;34m2026-02-12 16:50:32:844 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:32:844 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:32:844 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]wav_extractor:   >sampleRate           : 44100
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]wav_extractor:   >channels             : 2
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]wav_extractor:   >bits                 : 24
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]wav_extractor:   >byteRate             : 264600
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]wav_extractor:   >blockAlign           : 6
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]wav_extractor:   >dataSize             : 0
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]wav_extractor:   >dataOffset           : 0
[0m[0;31m2026-02-12 16:50:32:851 E [liteplayer]wav_extractor: Invalid dataOffset:0
[0m[0;31m2026-02-12 16:50:32:851 E [liteplayer]wav_extractor: Failed to parse wav header
[0m[0;31m2026-02-12 16:50:32:851 E [liteplayer]parser: Failed to parse url:[/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav]
[0m[0;34m2026-02-12 16:50:32:851 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;33m2026-02-12 16:50:32:851 W [liteplayer]listplayer: Failed to play url: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav, remove this url from list
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 5
[PlaybackController] State transition: 1 -> 5 (isTransitioning=1)
[PlaybackController] Error: Playback error occurred
[PlaybackController] Error recovery: request next track (retry 1/3)
[PlaybackController] Error: Error code: -1
[PlaybackController] Error recovery: request next track (retry 2/3)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=5
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::playTrack] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:33:344 I [liteplayer]core: Starting player[file]
[0m[0;31m2026-02-12 16:50:33:344 E [liteplayer]core: Can't start in state=[255]
[0m[MusicPlayerService] Sending response for: play_by_filter
[MusicPlayerService] Response sent
[MusicPlayerService] Controller event: ErrorOccurred (Playback error occurred)
[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=5
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:50:33:345 I [liteplayer]core: Stopping player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 5 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:50:33:345 I [liteplayer]core: Resetting player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaylistManager] SingleLoop - remaining plays: 1
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "budgie_chirps2" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:33:595 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[0m[0;34m2026-02-12 16:50:33:595 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:33:595 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:33:595 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:33:595 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:33:595 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:33:595 D [liteplayer]wav_extractor:   >sampleRate           : 44100
[0m[0;34m2026-02-12 16:50:33:595 D [liteplayer]wav_extractor:   >channels             : 2
[0m[0;34m2026-02-12 16:50:33:595 D [liteplayer]wav_extractor:   >bits                 : 24
[0m[0;34m2026-02-12 16:50:33:595 D [liteplayer]wav_extractor:   >byteRate             : 264600
[0m[0;34m2026-02-12 16:50:33:596 D [liteplayer]wav_extractor:   >blockAlign           : 6
[0m[0;34m2026-02-12 16:50:33:596 D [liteplayer]wav_extractor:   >dataSize             : 0
[0m[0;34m2026-02-12 16:50:33:596 D [liteplayer]wav_extractor:   >dataOffset           : 0
[0m[0;31m2026-02-12 16:50:33:596 E [liteplayer]wav_extractor: Invalid dataOffset:0
[0m[0;31m2026-02-12 16:50:33:596 E [liteplayer]wav_extractor: Failed to parse wav header
[0m[0;31m2026-02-12 16:50:33:596 E [liteplayer]parser: Failed to parse url:[/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav]
[0m[0;34m2026-02-12 16:50:33:596 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;33m2026-02-12 16:50:33:596 W [liteplayer]listplayer: Failed to play url: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav, remove this url from list
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 5
[PlaybackController] State transition: 1 -> 5 (isTransitioning=1)
[PlaybackController] Error: Playback error occurred
[PlaybackController] Error recovery: stop retrying (no more tracks)
[PlaybackController] Error: Error code: -1
[PlaybackController] Error recovery: stop retrying (no more tracks)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=5
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: TrackEnded (budgie_chirps2)
[PlaybackController::next] ========== START ==========
[PlaybackController] No next track available
[MusicPlayerService] Controller event: ErrorOccurred (Error code: -1)
[0;32m2026-02-12 16:50:34:096 I [liteplayer]core: Starting player[file]
[0m[0;31m2026-02-12 16:50:34:096 E [liteplayer]core: Can't start in state=[255]
[0m[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[MusicPlayerService] Skip next(): throttled
[MusicPlayerService] Controller event: TrackEnded (budgie_chirps2)
[MusicPlayerService] Skip next(): throttled
[MusicPlayerService] Controller event: ErrorOccurred (Playback error occurred)
[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[MusicPlayerService] Skip next(): throttled
[MusicPlayerService] Controller event: ErrorOccurred (Error code: -1)
[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[MusicPlayerService] Skip next(): throttled
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: stopped (pos: 0ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 3
[PlaybackController] Play mode set to: 3
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_loop_count
[PlaylistManager] Loop count set to: 2
[MusicPlayerService] Sending response for: set_loop_count
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play_by_filter
[PlaybackController::playTrack] ========== START (index=61) ==========
[PlaybackController::playTrack] Seeking to index 61
[PlaybackController::playTrack] Starting track at index 61
[PlaybackController] startCurrentTrackInternal: "leopard" (path=/home/pi/Music/test/leopard.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:37:664 I [liteplayer]core: Resetting player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 5 -> 4 (isTransitioning=0)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=0)
[PlaybackController] Loading file: /home/pi/Music/test/leopard.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/leopard.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/leopard.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:37:864 I [liteplayer]core: Set player source: /home/pi/Music/test/leopard.wav
[0m[0;34m2026-02-12 16:50:37:864 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[0;32m2026-02-12 16:50:37:864 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:37:864 D [liteplayer]file: Opening file:/home/pi/Music/test/leopard.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]wav_extractor:   >dataSize             : 292016
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:37:871 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[292060], duration[3000ms]
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:37:871 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::playTrack] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:38:364 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] Sending response for: play_by_filter
[0;34m2026-02-12 16:50:38:364 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:38:364 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:38:364 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:38:364 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:50:38:364 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:38:364 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:50:38:364 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:50:38:364 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1273428160
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 2339ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:41:220 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:41:220 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:41:220 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:41:468 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:41:468 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:41:468 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:41:468 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:41:468 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (leopard)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaylistManager] SingleLoop - remaining plays: 1
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "leopard" (path=/home/pi/Music/test/leopard.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:41:469 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:41:469 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:41:469 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/leopard.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/leopard.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/leopard.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:41:670 I [liteplayer]core: Set player source: /home/pi/Music/test/leopard.wav
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:41:670 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]file: Opening file:/home/pi/Music/test/leopard.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]wav_extractor:   >dataSize             : 292016
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:41:670 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[292060], duration[3000ms]
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:41:670 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:42:170 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:50:42:170 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:42:170 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:42:170 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:42:170 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:50:42:170 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 16:50:42:170 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:50:42:170 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;34m2026-02-12 16:50:42:170 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1273608272
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 539ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 1
[PlaybackController] Play mode set to: 1
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_loop_count
[PlaylistManager] Loop count set to: 2
[MusicPlayerService] Sending response for: set_loop_count
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Already playing
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "leopard"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 2279ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:50:44:972 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:44:972 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:44:972 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:45:218 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:45:218 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:45:218 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:45:218 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:45:218 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (leopard)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "lion" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/lion.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:45:222 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:45:222 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:45:222 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/lion.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/lion.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/lion.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:45:422 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/lion.wav
[0m[0;34m2026-02-12 16:50:45:422 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:45:422 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:45:422 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/lion.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]wav_extractor:   >dataSize             : 240486
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:45:431 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[240530], duration[2000ms]
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:45:431 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:45:923 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:50:45:923 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:45:923 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:45:923 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:45:923 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:50:45:923 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 16:50:45:923 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:50:45:923 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: [0;34m2026-02-12 16:50:45:923 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1273788192
[0;34m2026-02-12 16:50:48:223 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:48:223 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:48:223 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:48:468 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:48:468 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:48:468 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:48:468 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:48:468 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (lion)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "lion" (path=/home/pi/Music/test/lion.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:48:474 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:48:474 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:48:474 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/lion.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/lion.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/lion.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:48:674 I [liteplayer]core: Set player source: /home/pi/Music/test/lion.wav
[0m[0;34m2026-02-12 16:50:48:674 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:48:675 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:48:675 D [liteplayer]file: Opening file:/home/pi/Music/test/lion.wav, content_pos:0
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]wav_extractor:   >dataSize             : 240486
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:50:48:681 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[240530], duration[2000ms]
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:48:681 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:49:175 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:50:49:175 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:49:175 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:49:175 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:50:49:175 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:50:49:175 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:50:49:175 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:50:49:175 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:50:49:175 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1273944160
[0;34m2026-02-12 16:50:51:471 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:50:51:471 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:50:51:471 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:50:51:718 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:50:51:718 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:50:51:718 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:50:51:718 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:50:51:718 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (lion)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "nature" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:50:51:726 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:50:51:726 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:50:51:726 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:50:51:927 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3
[0m[0;34m2026-02-12 16:50:51:927 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:50:51:927 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:50:51:927 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3, content_pos:0
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]parser: Discarding 5431 bytes to reach new offset
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]mp3_extractor: channels=2, sample_rate=16000, bit_rate=40, frame_size=180
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]mp3_extractor:   >sample_rate       : 16000
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]mp3_extractor:   >bit_rate          : 40
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]mp3_extractor:   >frame_size        : 180
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]mp3_extractor:   >frame_start_offset: 7479
[0m[0;32m2026-02-12 16:50:51:934 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[16000], channels[2], bits[16], pos[7479], len[47691], duration[8042ms]
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:50:51:934 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:50:52:427 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:50:52:427 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:50:52:427 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:50:52:427 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:50:52:427 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:50:52:427 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:50:52:427 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=16000, ch=2, bits=16
[0m[0;32m2026-02-12 16:50:52:427 I [liteplayer]core: Opening sink: rate:16000, channels:2, bits:16
[0m[0;34m2026-02-12 16:50:52:427 D [liteplayer]alsa: Opening alsa: samplerate=16000, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 16000
  exact rate   : 16000 (16000/1)
  msbits       : 16
  buffer_size  : 6000
  period_size  : 2000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 2000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 6000
  silence_threshold: 0
  silence_size : 0
  boundary     : 1688849860263936000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 3
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1274100160
[0;34m2026-02-12 16:51:02:218 D [liteplayer]file: file read done: 47691/47691
[0m[0;34m2026-02-12 16:51:02:218 D [liteplayer]audio_element: IN-[mp3_decoder] AEL_IO_DONE,-2
[0m[0;34m2026-02-12 16:51:02:218 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:51:02:218 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:51:02:218 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:51:02:593 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:51:02:593 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:51:02:593 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:51:02:593 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:51:02:593 D [liteplayer]core: [ file-mp3_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (nature)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "nature-60s" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:51:02:599 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:51:02:600 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:51:02:600 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:51:02:800 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[0m[0;34m2026-02-12 16:51:02:800 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:51:02:800 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:51:02:800 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3, content_pos:0
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]parser: Discarding 7485 bytes to reach new offset
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]mp3_extractor: channels=2, sample_rate=16000, bit_rate=32, frame_size=144
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]mp3_extractor:   >sample_rate       : 16000
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]mp3_extractor:   >bit_rate          : 32
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]mp3_extractor:   >frame_size        : 144
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]mp3_extractor:   >frame_start_offset: 9533
[0m[0;32m2026-02-12 16:51:02:811 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[16000], channels[2], bits[16], pos[9533], len[312077], duration[75636ms]
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:51:02:811 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:51:03:300 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:51:03:300 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:51:03:300 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:51:03:300 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:51:03:300 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:51:03:300 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:51:03:300 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=16000, ch=2, bits=16
[0m[0;32m2026-02-12 16:51:03:300 I [liteplayer]core: Opening sink: rate:16000, channels:2, bits:16
[0m[0;34m2026-02-12 16:51:03:300 D [liteplayer]alsa: Opening alsa: samplerate=16000, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 16000
  exact rate   : 16000 (16000/1)
  msbits       : 16
  buffer_size  : 6000
  period_size  : 2000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 2000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 6000
  silence_threshold: 0
  silence_size : 0
  boundary     : 1688849860263936000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 3
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1274622188
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 35028ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: stop
[PlaybackController::stop] ========== START ==========
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:51:38:013 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:51:38:093 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:51:38:093 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:51:38:093 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:51:38:468 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:51:38:468 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:51:38:468 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:51:38:468 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:51:38:468 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:51:38:468 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:51:38:468 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:51:38:468 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::stop] ========== END ==========
[MusicPlayerService] ‚èπÔ∏è  Stopped
[MusicPlayerService] Sending response for: stop
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 1
[PlaybackController] Play mode set to: 1
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Starting current track
[PlaybackController] startCurrentTrackInternal: "nature-60s" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:51:39:427 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[0m[0;34m2026-02-12 16:51:39:427 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[0;32m2026-02-12 16:51:39:427 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:51:39:427 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3, content_pos:0
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]parser: Discarding 7485 bytes to reach new offset
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]mp3_extractor: channels=2, sample_rate=16000, bit_rate=32, frame_size=144
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]mp3_extractor:   >sample_rate       : 16000
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]mp3_extractor:   >bit_rate          : 32
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]mp3_extractor:   >frame_size        : 144
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]mp3_extractor:   >frame_start_offset: 9533
[0m[0;32m2026-02-12 16:51:39:437 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[16000], channels[2], bits[16], pos[9533], len[312077], duration[75636ms]
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:51:39:437 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::play] ========== END ==========
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "nature-60s"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:51:39:927 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:51:39:927 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:51:39:927 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:51:39:927 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:51:39:927 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:51:39:928 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:51:39:928 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=16000, ch=2, bits=16
[0m[0;32m2026-02-12 16:51:39:928 I [liteplayer]core: Opening sink: rate:16000, channels:2, bits:16
[0m[0;34m2026-02-12 16:51:39:928 D [liteplayer]alsa: Opening alsa: samplerate=16000, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 16000
  exact rate   : 16000 (16000/1)
  msbits       : 16
  buffer_size  : 6000
  period_size  : 2000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 2000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 6000
  silence_threshold: 0
  silence_size : 0
  boundary     : 1688849860263936000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 3
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1276380168
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 756ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 1260ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 1764ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 3888ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: stop
[PlaybackController::stop] ========== START ==========
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:51:43:535 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:51:43:593 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:51:43:593 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:51:43:593 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:51:43:968 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:51:43:968 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:51:43:968 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:51:43:968 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:51:43:968 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:51:43:968 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:51:43:968 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:51:43:968 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::stop] ========== END ==========
[MusicPlayerService] ‚èπÔ∏è  Stopped
[MusicPlayerService] Sending response for: stop
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 1
[PlaybackController] Play mode set to: 1
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Starting current track
[PlaybackController] startCurrentTrackInternal: "nature-60s" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:51:44:931 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[0;32m2026-02-12 16:51:44:931 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3, content_pos:0
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]parser: Discarding 7485 bytes to reach new offset
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]mp3_extractor: channels=2, sample_rate=16000, bit_rate=32, frame_size=144
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]mp3_extractor:   >sample_rate       : 16000
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]mp3_extractor:   >bit_rate          : 32
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]mp3_extractor:   >frame_size        : 144
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]mp3_extractor:   >frame_start_offset: 9533
[0m[0;32m2026-02-12 16:51:44:931 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[16000], channels[2], bits[16], pos[9533], len[312077], duration[75636ms]
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:51:44:931 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::play] ========== END ==========
[0;32m2026-02-12 16:51:45:431 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "nature-60s"
[0;34m2026-02-12 16:51:45:431 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:51:45:431 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[MusicPlayerService] Sending response for: play
[0;34m2026-02-12 16:51:45:431 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:51:45:431 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[MusicPlayerService] Response sent
[0;34m2026-02-12 16:51:45:431 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:51:45:431 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=16000, ch=2, bits=16
[0m[0;32m2026-02-12 16:51:45:431 I [liteplayer]core: Opening sink: rate:16000, channels:2, bits:16
[0m[0;34m2026-02-12 16:51:45:431 D [liteplayer]alsa: Opening alsa: samplerate=16000, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 16000
  exact rate   : 16000 (16000/1)
  msbits       : 16
  buffer_size  : 6000
  period_size  : 2000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 2000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 6000
  silence_threshold: 0
  silence_size : 0
  boundary     : 1688849860263936000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 3
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1276644160
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 756ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 1260ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_status
[MusicPlayerService] üìä Status: playing (pos: 1764ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play_by_filter
[PlaybackController::playTrack] ========== START (index=68) ==========
[PlaybackController::playTrack] Seeking to index 68
[PlaybackController::playTrack] Stopping current playback before switching
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:52:12:995 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:52:13:093 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:52:13:093 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:52:13:093 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:52:13:468 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:52:13:468 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:52:13:468 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:52:13:468 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:52:13:468 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:52:13:468 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:52:13:468 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:52:13:468 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::playTrack] Starting track at index 68
[PlaybackController] startCurrentTrackInternal: "pig" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/pig.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/pig.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/pig.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/pig.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:52:13:719 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/pig.wav
[0m[0;34m2026-02-12 16:52:13:719 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:52:13:719 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:52:13:719 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/pig.wav, content_pos:0
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]wav_extractor:   >dataSize             : 275856
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:52:13:726 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[275900], duration[2000ms]
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:52:13:726 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::playTrack] ========== END (result=1) ==========
[0;32m2026-02-12 16:52:14:219 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] Sending response for: play_by_filter
[0;34m2026-02-12 16:52:14:219 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:52:14:219 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[MusicPlayerService] Response sent
[0;34m2026-02-12 16:52:14:219 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:52:14:219 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:52:14:219 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:52:14:219 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:52:14:219 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 16:52:14:220 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1278030176
[MusicPlayerService] Received command: play_by_filter
[PlaybackController::playTrack] ========== START (index=2) ==========
[PlaybackController::playTrack] Seeking to index 2
[PlaybackController::playTrack] Stopping current playback before switching
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:52:14:230 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:52:14:231 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:52:14:231 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:52:14:231 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:52:14:593 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:52:14:593 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:52:14:593 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:52:14:593 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:52:14:593 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:52:14:593 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:52:14:593 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:52:14:593 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::playTrack] Starting track at index 2
[PlaybackController] startCurrentTrackInternal: "03 A Whole New World" (path=/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:52:14:844 I [liteplayer]core: Set player source: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3
[0m[0;34m2026-02-12 16:52:14:844 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:52:14:844 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:52:14:844 D [liteplayer]file: Opening file:/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3, content_pos:0
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 16:52:14:856 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[9879674], duration[246991ms]
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:52:14:856 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::playTrack] ========== END (result=1) ==========
[MusicPlayerService] Sending response for: play_by_filter
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:52:15:344 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:52:15:346 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:52:15:347 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:52:15:347 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:52:15:347 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:52:15:347 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:52:15:347 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 16:52:15:347 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 16:52:15:347 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1278084184
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 0
[PlaybackController] Play mode set to: 0
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 1
[PlaybackController] Play mode set to: 1
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 2
[PlaybackController] Play mode set to: 2
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 3
[PlaybackController] Play mode set to: 3
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_loop_count
[PlaylistManager] Loop count set to: 5
[MusicPlayerService] Sending response for: set_loop_count
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_all_tracks
[MusicPlayerService] Sending response for: get_all_tracks
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:52:47:409 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:52:47:472 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:52:47:473 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:52:47:473 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:52:47:843 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:52:47:843 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:52:47:843 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:52:47:843 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:52:47:843 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:52:47:844 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:52:47:844 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:52:47:844 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaylistManager] SingleLoop - remaining plays: 4
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "03 A Whole New World" (path=/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:52:48:094 I [liteplayer]core: Set player source: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3
[0m[0;34m2026-02-12 16:52:48:094 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:52:48:095 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]file: Opening file:/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/03 A Whole New World.mp3, content_pos:0
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 16:52:48:095 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[9879674], duration[246991ms]
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:52:48:095 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 03 A Whole New World
[MusicPlayerService] ‚è≠Ô∏è  Next: "03 A Whole New World"
[MusicPlayerService] handleNext returning success
[MusicPlayerService] Sending response for: next
[0;32m2026-02-12 16:52:48:595 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:52:48:595 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:52:48:595 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:52:48:595 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:52:48:595 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:52:48:595 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:52:48:595 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 16:52:48:595 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 16:52:48:595 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1279680264
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play_by_filter
[PlaybackController::playTrack] ========== START (index=7) ==========
[PlaybackController::playTrack] Seeking to index 7
[PlaybackController::playTrack] Stopping current playback before switching
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:52:51:435 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:52:51:472 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:52:51:472 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:52:51:473 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:52:51:843 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:52:51:843 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:52:51:843 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:52:51:843 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:52:51:843 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:52:51:843 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:52:51:843 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:52:51:843 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::playTrack] Starting track at index 7
[PlaybackController] startCurrentTrackInternal: "08 Don't Let The Sun Go Down On Me" (path=/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:52:52:093 I [liteplayer]core: Set player source: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[0m[0;34m2026-02-12 16:52:52:093 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:52:52:093 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:52:52:093 D [liteplayer]file: Opening file:/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3, content_pos:0
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 16:52:52:095 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[10659556], duration[266488ms]
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:52:52:095 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::playTrack] ========== END (result=1) ==========
[MusicPlayerService] Sending response for: play_by_filter
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:52:52:594 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:52:52:594 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:52:52:594 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:52:52:594 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:52:52:594 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:52:52:594 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 16:52:52:594 I [liteplayer]core: Stopping player[file]
[0m[0;32m2026-02-12 16:52:52:594 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 16:52:52:594 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 16:52:52:594 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1279872240
[0;34m2026-02-12 16:52:52:597 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:52:52:597 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:52:52:597 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:52:52:718 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:52:52:718 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:52:52:718 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:52:52:718 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:52:52:718 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:52:52:718 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:52:52:718 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:52:52:718 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaylistManager] SingleLoop - remaining plays: 3
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "08 Don't Let The Sun Go Down On Me" (path=/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:52:52:968 I [liteplayer]core: Set player source: /home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[0m[0;34m2026-02-12 16:52:52:968 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:52:52:968 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:52:52:968 D [liteplayer]file: Opening file:/home/pi/Music/ÂîØÁæéÊµ™Êº´ÁöÑÊóãÂæã„ÄêÊ¨ßÁæéÊÄÄÊóßÁªèÂÖ∏ÈáëÊõ≤„Äë8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3, content_pos:0
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 16:52:52:969 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[10659556], duration[266488ms]
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:52:52:969 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 08 Don't Let The Sun Go Down On Me
[MusicPlayerService] ‚è≠Ô∏è  Next: "08 Don't Let The Sun Go Down On Me"
[MusicPlayerService] handleNext returning success
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play_by_filter
[PlaybackController::playTrack] ========== START (index=66) ==========
[PlaybackController::playTrack] Seeking to index 66
[PlaybackController::playTrack] Starting track at index 66
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:52:53:470 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:52:53:470 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:52:53:470 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:52:53:470 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:52:53:470 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:52:53:470 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:52:53:470 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:52:53:470 D [liteplayer]core: Destroy audio decoder
[0m[0;32m2026-02-12 16:52:53:470 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 16:52:53:470 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 16:52:53:470 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1279914160
[0;34m2026-02-12 16:52:53:472 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:52:53:472 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:52:53:472 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:52:53:593 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:52:53:593 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:52:53:593 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:52:53:593 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:52:53:593 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=0)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:52:53:670 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:52:53:670 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[0;32m2026-02-12 16:52:53:670 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:52:53:670 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:52:53:680 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:52:53:680 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:52:53:680 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:52:53:680 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:52:53:680 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:52:53:681 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:52:53:681 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::playTrack] ========== END (result=1) ==========
[MusicPlayerService] Sending response for: play_by_filter
[MusicPlayerService] Response sent
[MusicPlayerService] Controller event: TrackEnded (owl)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:52:54:170 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:52:54:170 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:52:54:170 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:52:54:170 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:52:54:170 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:52:54:170 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:52:54:170 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:52:54:170 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 16:52:54:170 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 16:52:54:171 I [liteplayer]core: Stopping player[file]
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1279944160
[0;34m2026-02-12 16:52:54:173 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:52:54:173 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:52:54:173 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:52:54:218 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:52:54:218 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:52:54:218 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:52:54:218 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:52:54:218 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:52:54:218 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:52:54:218 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:52:54:218 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaylistManager] SingleLoop - remaining plays: 2
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:52:54:468 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:52:54:468 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:52:54:468 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:52:54:468 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:52:54:469 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:52:54:469 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 0
[PlaybackController] Play mode set to: 0
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:52:54:969 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:52:54:969 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:52:54:969 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:52:54:969 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:52:54:969 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:52:54:969 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:52:54:969 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:52:54:969 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 16:52:54:969 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1279986232
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 1
[PlaybackController] Play mode set to: 1
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 2
[PlaybackController] Play mode set to: 2
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_play_mode
[PlaylistManager] Play mode set to: 3
[PlaybackController] Play mode set to: 3
[MusicPlayerService] Sending response for: set_play_mode
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: set_loop_count
[PlaylistManager] Loop count set to: 5
[MusicPlayerService] Sending response for: set_loop_count
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_all_tracks
[MusicPlayerService] Sending response for: get_all_tracks
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:52:58:218 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:52:58:218 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:52:58:218 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:52:58:592 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:52:58:592 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:52:58:592 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:52:58:593 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:52:58:593 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (owl)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaylistManager] SingleLoop - remaining plays: 4
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:52:58:599 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:52:58:599 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:52:58:599 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:52:58:800 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:52:58:800 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:52:58:800 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:52:58:800 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:52:59:300 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:52:59:300 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:52:59:300 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:52:59:300 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:52:59:300 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:52:59:300 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:52:59:300 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:52:59:300 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;34m2026-02-12 16:52:59:300 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1280190240
[0;34m2026-02-12 16:53:02:470 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:53:02:470 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:53:02:470 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:53:02:842 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:53:02:842 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:53:02:842 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:53:02:842 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:53:02:842 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (owl)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaylistManager] SingleLoop - remaining plays: 3
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:53:02:851 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:53:02:851 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:53:02:851 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:53:03:051 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:53:03:052 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:53:03:052 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:53:03:052 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:53:03:552 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:53:03:552 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:53:03:552 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:53:03:552 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:53:03:552 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:53:03:552 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:53:03:552 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:53:03:552 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:53:03:552 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1280394152
[MusicPlayerService] Received command: previous
[MusicPlayerService] handlePrevious called
[PlaybackController::prev] ========== START ==========
[PlaybackController::prev] Setting isTransitioning_=true
[PlaybackController::prev] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:53:05:151 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:53:05:217 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:53:05:217 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:53:05:217 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:53:05:592 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:53:05:592 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:53:05:592 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:53:05:592 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:53:05:592 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:53:05:593 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:53:05:593 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:53:05:593 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::prev] Moving to previous track in playlist
[PlaybackController::prev] Starting new track...
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:53:05:843 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:53:05:843 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:53:05:843 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:53:05:843 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::prev] ========== END (result=1) ==========
[MusicPlayerService] handlePrevious: getting current track
[MusicPlayerService] handlePrevious: got track: owl
[MusicPlayerService] ‚èÆÔ∏è  Previous: [0;32m2026-02-12 16:53:06:343 I [liteplayer]core: Starting player[file]
[0m"owl"
[MusicPlayerService] handlePrevious returning success
[0;34m2026-02-12 16:53:06:344 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:53:06:344 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:53:06:344 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[MusicPlayerService] Sending response for: previous
[0;34m2026-02-12 16:53:06:344 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:53:06:344 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[MusicPlayerService] Response sent
[0;32m2026-02-12 16:53:06:344 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: [0;32m2026-02-12 16:53:06:344 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;34m2026-02-12 16:53:06:344 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1280532224
[MusicPlayerService] Received command: previous
[MusicPlayerService] handlePrevious called
[PlaybackController::prev] ========== START ==========
[PlaybackController::prev] Setting isTransitioning_=true
[PlaybackController::prev] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:53:08:593 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:53:08:594 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:53:08:594 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:53:08:594 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:53:08:967 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:53:08:967 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:53:08:967 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:53:08:967 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:53:08:967 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:53:08:968 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:53:08:968 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:53:08:968 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::prev] Moving to previous track in playlist
[PlaybackController::prev] Starting new track...
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:53:09:218 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:53:09:218 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:53:09:218 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:53:09:218 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::prev] ========== END (result=1) ==========
[MusicPlayerService] handlePrevious: getting current track
[MusicPlayerService] handlePrevious: got track: owl
[0;32m2026-02-12 16:53:09:718 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] ‚èÆÔ∏è  Previous: "owl"
[MusicPlayerService] handlePrevious returning success
[0;34m2026-02-12 16:53:09:719 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:53:09:719 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:53:09:719 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[MusicPlayerService] Sending response for: previous
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:53:09:719 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:53:09:719 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 16:53:09:719 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:53:09:720 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:53:09:720 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1280694368
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:53:12:143 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:53:12:218 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:53:12:218 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:53:12:218 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:53:12:467 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:53:12:467 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:53:12:467 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:53:12:467 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:53:12:467 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:53:12:468 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:53:12:468 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:53:12:468 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaylistManager] SingleLoop - remaining plays: 2
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:53:12:718 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:53:12:718 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:53:12:718 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:53:12:718 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: owl
[MusicPlayerService] ‚è≠Ô∏è  Next: "owl"
[MusicPlayerService] handleNext returning success
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:53:13:219 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:53:13:219 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:53:13:219 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:53:13:219 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:53:13:219 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:53:13:219 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:53:13:219 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:53:13:219 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 16:53:13:219 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1280862192
[0;34m2026-02-12 16:53:16:468 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:53:16:468 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:53:16:468 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:53:16:842 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:53:16:842 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:53:16:842 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:53:16:842 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:53:16:842 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (owl)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaylistManager] SingleLoop - remaining plays: 1
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:53:16:850 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:53:16:850 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:53:16:850 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:53:17:050 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:53:17:050 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:53:17:051 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:53:17:051 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:53:17:051 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 16:53:17:551 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:53:17:551 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:53:17:551 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:53:17:551 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:53:17:551 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:53:17:551 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:53:17:551 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:53:17:551 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:53:17:551 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1281066152
[0;34m2026-02-12 16:53:20:729 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:53:20:729 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:53:20:729 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:53:21:093 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:53:21:093 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:53:21:093 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:53:21:093 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:53:21:093 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (owl)
[PlaybackController::next] ========== START ==========
[PlaybackController] No next track available
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Starting current track
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:53:38:461 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:53:38:461 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:53:38:461 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=0)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=0)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:53:38:661 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[0;32m2026-02-12 16:53:38:661 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:53:38:661 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:53:38:662 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:53:38:662 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:53:38:662 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:53:38:662 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:53:38:662 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:53:38:662 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:53:38:662 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::play] ========== END ==========
[0;32m2026-02-12 16:53:39:161 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "owl"
[0;34m2026-02-12 16:53:39:162 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:53:39:162 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:53:39:162 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[MusicPlayerService] Sending response for: play
[0;34m2026-02-12 16:53:39:162 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:53:39:162 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[MusicPlayerService] Response sent
[0;32m2026-02-12 16:53:39:162 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 16:53:39:162 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:53:39:162 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1282104168
[0;34m2026-02-12 16:53:42:345 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:53:42:345 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:53:42:345 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:53:42:717 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:53:42:717 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:53:42:717 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:53:42:717 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:53:42:717 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (owl)
[PlaybackController::next] ========== START ==========
[PlaybackController] No next track available
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController] No next track available
[MusicPlayerService] handleNext failed: controller->next() returned false
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController] No next track available
[MusicPlayerService] handleNext failed: controller->next() returned false
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Starting current track
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:54:10:242 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:54:10:242 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:54:10:242 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=0)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=0)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0;32m2026-02-12 16:54:10:442 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:54:10:442 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[0;32m2026-02-12 16:54:10:442 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:54:10:442 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:54:10:443 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:54:10:443 D [liteplayer]core: [3.0] Run decoder element
[0m[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::play] ========== END ==========
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "owl"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:54:10:944 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:54:10:944 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:54:10:944 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 16:54:10:944 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:54:10:944 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 16:54:10:944 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 16:54:10:944 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:54:10:944 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;34m2026-02-12 16:54:10:944 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1283628248
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController] No next track available
[MusicPlayerService] handleNext failed: controller->next() returned false
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:54:14:103 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:54:14:103 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:54:14:103 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:54:14:467 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:54:14:467 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:54:14:467 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:54:14:467 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:54:14:467 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (owl)
[PlaybackController::next] ========== START ==========
[PlaybackController] No next track available
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Starting current track
[PlaybackController] startCurrentTrackInternal: "owl" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] ‚úÖ Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 16:55:22:756 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:55:22:756 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:55:22:756 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=0)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=0)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:55:22:956 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav
[0m[0;34m2026-02-12 16:55:22:956 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[0;32m2026-02-12 16:55:22:957 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav, content_pos:0
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]wav_extractor:   >dataSize             : 337694
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 16:55:22:957 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[337738], duration[3000ms]
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:55:22:957 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] ‚úÖ Track started successfully
[PlaybackController::play] ========== END ==========
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: [0;32m2026-02-12 16:55:23:457 I [liteplayer]core: Starting player[file]
[0m"owl"
[0;34m2026-02-12 16:55:23:457 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:55:23:457 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[MusicPlayerService] Sending response for: play[0;34m2026-02-12 16:55:23:457 D [liteplayer]audio_element: [wav_decoder] el opened
[0m
[0;34m2026-02-12 16:55:23:457 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[MusicPlayerService] Response sent
[0;34m2026-02-12 16:55:23:457 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 16:55:23:457 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:55:23:458 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:55:23:458 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1287108160
[MusicPlayerService] Received command: pause
[PlaybackController] Paused
[MusicPlayerService] ‚è∏Ô∏è  Paused at 3379ms
[MusicPlayerService] Sending response for: pause
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:55:26:548 I [liteplayer]core: Pausing player[file]
[0m[0;34m2026-02-12 16:55:26:591 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:55:26:591 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:55:26:591 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:55:26:966 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;34m2026-02-12 16:55:26:966 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:55:26:966 D [liteplayer]core: [ file-wav_decoder ] Receive paused event
[0m[0;34m2026-02-12 16:55:26:966 D [liteplayer]audio_element: [wav_decoder] Element paused
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 3
[PlaybackController] State transition: 2 -> 3 (isTransitioning=0)
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Resuming from pause
[PlaybackController] Resumed
[MusicPlayerService] ‚ñ∂Ô∏è  Playing: "owl"
[0;32m2026-02-12 16:55:30:709 I [liteplayer]core: Resuming player[file]
[0m[MusicPlayerService] Sending response for: play
[0;34m2026-02-12 16:55:30:709 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 16:55:30:709 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;32m2026-02-12 16:55:30:709 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 16:55:30:709 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[MusicPlayerService] Response sent
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1287456160
[0;34m2026-02-12 16:55:30:712 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 16:55:30:712 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 16:55:30:712 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 3 -> 2 (isTransitioning=0)
[0;34m2026-02-12 16:55:30:715 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 16:55:30:715 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:55:30:715 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:55:30:841 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 16:55:30:841 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:55:30:841 D [liteplayer]file: Closing file:0x7fa0000e50
[0m[0;34m2026-02-12 16:55:30:841 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 16:55:30:841 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (owl)
[PlaybackController::next] ========== START ==========
[PlaybackController] No next track available

[Server] Received signal 15, shutting down...
[MusicPlayerService] Stopping service... (should_stop_ set to true)
[MusicPlayerService] stop() called, count: 1
[MusicPlayerService] Command loop stopped
[MusicPlayerService] Event loop stopped
[MusicPlayerService] Service stopped
[Server] Cleaning up...
[0;34m2026-02-12 16:57:37:763 D mlooper: [ael-listplayer]: Leave looper thread: thread_id=[0x7fadb25f40]
[0m[0;32m2026-02-12 16:57:37:763 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:57:37:763 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:57:37:763 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=0)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=0)
[Server] Shutdown complete
