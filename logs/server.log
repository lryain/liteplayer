nohup: ignoring input
========================================
  Music Player Server
  Phase 4 - ZMQ Remote Control
========================================

[Server] Using config file: config/music_player.yaml
[ConfigLoader] Database path: data/music_library.db -> /home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/data/music_library.db
[ConfigLoader] Configuration loaded successfully
[MusicPlayerService] ZMQ initialized
  Command endpoint: ipc:///tmp/music_player_cmd.sock
  Event endpoint: ipc:///tmp/music_player_event.sock
[MusicLibrary] Database opened: /home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/data/music_library.db
[LitePlayerWrapper] Initialized successfully
[PlaybackController] Initialized successfully
[MusicPlayerService] Scanning music directories...
[MusicPlayerService] Scanning directory: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music
[0;34m2026-02-12 16:57:37:055 D mlooper: [ael-listplayer]: Entry looper thread: thread_id=[0x7fb3d44f40]
[0m  Found 12 tracks
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/salsa.wav
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/huangmeixi.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/rock.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/trot.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3
[MusicLibrary] Track already exists: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/funk.mp3
[MusicLibrary] Added 12/12 tracks
  Added 12 new tracks to database
[MusicPlayerService] Scanning directory: /home/pi/Music/
  Found 43 tracks
[MusicLibrary] Added track: sheep (ID: 147)
[MusicLibrary] Added track: pig (ID: 148)
[MusicLibrary] Added track: kookaburra (ID: 149)
[MusicLibrary] Added track: elephant (ID: 150)
[MusicLibrary] Added track: zebra (ID: 151)
[MusicLibrary] Added track: cow (ID: 152)
[MusicLibrary] Added track: leopard (ID: 153)
[MusicLibrary] Added track: dog (ID: 154)
[MusicLibrary] Added track: budgie_chirps1 (ID: 155)
[MusicLibrary] Added track: cat (ID: 156)
[MusicLibrary] Added track: whale (ID: 157)
[MusicLibrary] Added track: budgie_chirps2 (ID: 158)
[MusicLibrary] Added track: goose (ID: 159)
[MusicLibrary] Added track: bird (ID: 160)
[MusicLibrary] Added track: coyote (ID: 161)
[MusicLibrary] Added track: crow (ID: 162)
[MusicLibrary] Added track: bear (ID: 163)
[MusicLibrary] Added track: tiger (ID: 164)
[MusicLibrary] Added track: snake (ID: 165)
[MusicLibrary] Added track: frog (ID: 166)
[MusicLibrary] Added track: chimpanzee (ID: 167)
[MusicLibrary] Added track: rooster (ID: 168)
[MusicLibrary] Added track: owl (ID: 169)
[MusicLibrary] Added track: wolf (ID: 170)
[MusicLibrary] Added track: lion (ID: 171)
[MusicLibrary] Added track: donkey (ID: 172)
[MusicLibrary] Added track: chicken (ID: 173)
[MusicLibrary] Added track: horse (ID: 174)
[MusicLibrary] Added track: duck (ID: 175)
[MusicLibrary] Added track: dolphin (ID: 176)
[MusicLibrary] Added track: gibbon (ID: 177)
[MusicLibrary] Added track: bee (ID: 178)
[MusicLibrary] Added track: 09 Do That To Me One More Time (ID: 179)
[MusicLibrary] Added track: 10 I Know Him So Well (ID: 180)
[MusicLibrary] Added track: 07 Up Where We Belong (ID: 181)
[MusicLibrary] Added track: 04 Endless Love (ID: 182)
[MusicLibrary] Added track: 05 Beauty And The Beast (ID: 183)
[MusicLibrary] Added track: 02 Don't Know Much (ID: 184)
[MusicLibrary] Added track: 01 Tonight,I celebrate My Love (ID: 185)
[MusicLibrary] Added track: 08 Don't Let The Sun Go Down On Me (ID: 186)
[MusicLibrary] Added track: 06 When I Fall In Love (ID: 187)
[MusicLibrary] Added track: 11 Top Of The World (ID: 188)
[MusicLibrary] Added track: 03 A Whole New World (ID: 189)
[MusicLibrary] Added 43/43 tracks
  Added 43 new tracks to database
[MusicPlayerService] Scan complete: 55 tracks added
[MusicPlayerService] Syncing 88 tracks from database to playlist...
  âœ“ Added: 01 Tonight,I celebrate My Love (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/01 Tonight,I celebrate My Love.mp3)
  âœ“ Added: 02 Don't Know Much (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/02 Don't Know Much.mp3)
  âœ“ Added: 03 A Whole New World (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/03 A Whole New World.mp3)
  âœ“ Added: 04 Endless Love (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/04 Endless Love.mp3)
  âœ“ Added: 05 Beauty And The Beast (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/05 Beauty And The Beast.mp3)
  âœ“ Added: 06 When I Fall In Love (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/06 When I Fall In Love.mp3)
  âœ“ Added: 07 Up Where We Belong (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/07 Up Where We Belong.mp3)
  âœ“ Added: 08 Don't Let The Sun Go Down On Me (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3)
  âœ“ Added: 09 Do That To Me One More Time (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3)
  âœ“ Added: 10 I Know Him So Well (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/10 I Know Him So Well.mp3)
  âœ“ Added: 11 Top Of The World (/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/11 Top Of The World.mp3)
  âœ“ Added: AlanWalker-Faded (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3)
  âœ“ Added: Dog Sound (/home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/../../assets/sounds/animal/dog.wav)
  âœ“ Added: ballad (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3)
  âœ“ Added: bear (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bear.wav)
  âœ“ Added: bear (/home/pi/Music/test/bear.wav)
  âœ“ Added: bee (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bee.wav)
  âœ“ Added: bee (/home/pi/Music/test/bee.wav)
  âœ“ Added: bird (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav)
  âœ“ Added: bird (/home/pi/Music/test/bird.wav)
  âœ“ Added: birthday (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav)
  âœ“ Added: budgie_chirps1 (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav)
  âœ“ Added: budgie_chirps1 (/home/pi/Music/test/budgie_chirps1.wav)
  âœ“ Added: budgie_chirps2 (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav)
  âœ“ Added: budgie_chirps2 (/home/pi/Music/test/budgie_chirps2.wav)
  âœ“ Added: cat (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cat.wav)
  âœ“ Added: cat (/home/pi/Music/test/cat.wav)
  âœ“ Added: chicken (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chicken.wav)
  âœ“ Added: chicken (/home/pi/Music/test/chicken.wav)
  âœ“ Added: chimpanzee (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chimpanzee.wav)
  âœ“ Added: chimpanzee (/home/pi/Music/test/chimpanzee.wav)
  âœ“ Added: classic (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3)
  âœ“ Added: cow (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cow.wav)
  âœ“ Added: cow (/home/pi/Music/test/cow.wav)
  âœ“ Added: coyote (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/coyote.wav)
  âœ“ Added: coyote (/home/pi/Music/test/coyote.wav)
  âœ“ Added: crow (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/crow.wav)
  âœ“ Added: crow (/home/pi/Music/test/crow.wav)
  âœ“ Added: dog (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dog.wav)
  âœ“ Added: dog (/home/pi/Music/test/dog.wav)
  âœ“ Added: dolphin (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dolphin.wav)
  âœ“ Added: dolphin (/home/pi/Music/test/dolphin.wav)
  âœ“ Added: donkey (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/donkey.wav)
  âœ“ Added: donkey (/home/pi/Music/test/donkey.wav)
  âœ“ Added: duck (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/duck.wav)
  âœ“ Added: duck (/home/pi/Music/test/duck.wav)
  âœ“ Added: elephant (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/elephant.wav)
  âœ“ Added: elephant (/home/pi/Music/test/elephant.wav)
  âœ“ Added: exercise (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3)
  âœ“ Added: frog (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/frog.wav)
  âœ“ Added: frog (/home/pi/Music/test/frog.wav)
  âœ“ Added: funk (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/funk.mp3)
  âœ“ Added: gibbon (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/gibbon.wav)
  âœ“ Added: gibbon (/home/pi/Music/test/gibbon.wav)
  âœ“ Added: goose (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/goose.wav)
  âœ“ Added: goose (/home/pi/Music/test/goose.wav)
  âœ“ Added: horse (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/horse.wav)
  âœ“ Added: horse (/home/pi/Music/test/horse.wav)
  âœ“ Added: huangmeixi (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/huangmeixi.mp3)
  âœ“ Added: kookaburra (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/kookaburra.wav)
  âœ“ Added: kookaburra (/home/pi/Music/test/kookaburra.wav)
  âœ“ Added: leopard (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/leopard.wav)
  âœ“ Added: leopard (/home/pi/Music/test/leopard.wav)
  âœ“ Added: lion (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/lion.wav)
  âœ“ Added: lion (/home/pi/Music/test/lion.wav)
  âœ“ Added: nature (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature.mp3)
  âœ“ Added: nature-60s (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/nature-60s.mp3)
  âœ“ Added: owl (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/owl.wav)
  âœ“ Added: owl (/home/pi/Music/test/owl.wav)
  âœ“ Added: pig (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/pig.wav)
  âœ“ Added: pig (/home/pi/Music/test/pig.wav)
  âœ“ Added: rock (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/rock.mp3)
  âœ“ Added: rooster (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/rooster.wav)
  âœ“ Added: rooster (/home/pi/Music/test/rooster.wav)
  âœ“ Added: salsa (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/salsa.wav)
  âœ“ Added: sheep (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/sheep.wav)
  âœ“ Added: sheep (/home/pi/Music/test/sheep.wav)
  âœ“ Added: snake (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/snake.wav)
  âœ“ Added: snake (/home/pi/Music/test/snake.wav)
  âœ“ Added: tiger (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/tiger.wav)
  âœ“ Added: tiger (/home/pi/Music/test/tiger.wav)
  âœ“ Added: trot (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/trot.mp3)
  âœ“ Added: whale (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/whale.wav)
  âœ“ Added: whale (/home/pi/Music/test/whale.wav)
  âœ“ Added: wolf (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/wolf.wav)
  âœ“ Added: wolf (/home/pi/Music/test/wolf.wav)
  âœ“ Added: zebra (/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/zebra.wav)
  âœ“ Added: zebra (/home/pi/Music/test/zebra.wav)
[MusicPlayerService] Playlist now has 88 tracks
[MusicPlayerService] Service initialized successfully
[MusicPlayerService] Command loop started
[MusicPlayerService] Service started
[MusicPlayerService] Event loop started[Server] Service is running. Press Ctrl+C to stop.


[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "02 Don't Know Much" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/02 Don't Know Much.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/02 Don't Know Much.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/02 Don't Know Much.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/02 Don't Know Much.mp3
[0;32m2026-02-12 16:58:08:194 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/02 Don't Know Much.mp3
[0m[0;34m2026-02-12 16:58:08:194 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[0;32m2026-02-12 16:58:08:195 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:58:08:195 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/02 Don't Know Much.mp3, content_pos:0
[0m[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;34m2026-02-12 16:58:08:202 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 16:58:08:202 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[8602860], duration[215071ms]
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:58:08:202 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=[0;32m2026-02-12 16:58:08:697 I [liteplayer]core: Starting player[file]
[0m1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 02 Don't Know Much
[MusicPlayerService] â­ï¸  Next: [0;34m2026-02-12 16:58:08:697 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m"02 Don't Know Much"
[MusicPlayerService] handleNext returning success
[0;34m2026-02-12 16:58:08:698 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[MusicPlayerService] Sending response for: next
[0;34m2026-02-12 16:58:08:698 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:58:08:699 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:58:08:699 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:58:08:700 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 16:58:08:700 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 16:58:08:700 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1295046216
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:58:30:714 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:58:30:720 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:58:30:720 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:58:30:720 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:58:31:089 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:58:31:089 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:58:31:089 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 16:58:31:089 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:58:31:089 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:58:31:090 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:58:31:090 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:58:31:090 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "03 A Whole New World" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/03 A Whole New World.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/03 A Whole New World.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/03 A Whole New World.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/03 A Whole New World.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:58:31:341 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/03 A Whole New World.mp3
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:58:31:341 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/03 A Whole New World.mp3, content_pos:0
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 16:58:31:341 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[9879674], duration[246991ms]
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:58:31:341 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 03 A Whole New World
[MusicPlayerService] â­ï¸  Next: "03 A Whole New World"
[MusicPlayerService] handleNext returning success
[MusicPlayerService] Sending response for: next
[0;32m2026-02-12 16:58:31:842 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] Response sent
[0;34m2026-02-12 16:58:31:844 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:58:31:844 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:58:31:844 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:58:31:844 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:58:31:844 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:58:31:845 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 16:58:31:845 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 16:58:31:845 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1296156280
[MusicPlayerService] Received command: pause
[PlaybackController] Paused
[MusicPlayerService] â¸ï¸  Paused at 5236ms
[MusicPlayerService] Sending response for: pause
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:58:36:769 I [liteplayer]core: Pausing player[file]
[0m[0;34m2026-02-12 16:58:36:844 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:58:36:845 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:58:36:845 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:58:37:214 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;34m2026-02-12 16:58:37:214 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:58:37:214 D [liteplayer]core: [ file-mp3_decoder ] Receive paused event
[0m[0;34m2026-02-12 16:58:37:214 D [liteplayer]audio_element: [mp3_decoder] Element paused
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 3
[PlaybackController] State transition: 2 -> 3 (isTransitioning=0)
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Resuming from pause
[0;32m2026-02-12 16:58:39:699 I [liteplayer]core: Resuming player[file]
[0m[PlaybackController] Resumed
[MusicPlayerService] â–¶ï¸  Playing: "03 A Whole New World"
[0;34m2026-02-12 16:58:39:699 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;34m2026-02-12 16:58:39:699 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;32m2026-02-12 16:58:39:700 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 16:58:39:700 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1296528368
[0;34m2026-02-12 16:58:39:705 D [liteplayer]mp3_decoder: MP3 decoder already opened
[0m[0;34m2026-02-12 16:58:39:705 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:58:39:705 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:58:39:705 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 3 -> 2 (isTransitioning=0)
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:58:43:253 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:58:43:464 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:58:43:464 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:58:43:464 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:58:43:714 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:58:43:714 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:58:43:714 D [liteplayer]file: Closing file:0x7fa4000ed0
[0m[0;34m2026-02-12 16:58:43:714 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:58:43:714 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:58:43:715 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:58:43:715 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:58:43:715 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "04 Endless Love" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/04 Endless Love.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/04 Endless Love.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/04 Endless Love.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/04 Endless Love.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:58:43:965 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/04 Endless Love.mp3
[0m[0;34m2026-02-12 16:58:43:965 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:58:43:965 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:58:43:965 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/04 Endless Love.mp3, content_pos:0
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 16:58:43:973 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[10787949], duration[269698ms]
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:58:43:973 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 04 Endless Love
[MusicPlayerService] â­ï¸  Next: "04 Endless Love"
[MusicPlayerService] handleNext returning success
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:58:44:466 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:58:44:466 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:58:44:466 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:58:44:466 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:58:44:466 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:58:44:466 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:58:44:466 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 16:58:44:466 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 16:58:44:466 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1296762256
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 16:59:18:889 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 16:59:18:971 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 16:59:18:971 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 16:59:18:971 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 16:59:19:339 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 16:59:19:339 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 16:59:19:339 D [liteplayer]file: Closing file:0x7fa4000ed0
[0m[0;34m2026-02-12 16:59:19:339 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 16:59:19:339 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 16:59:19:339 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 16:59:19:339 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 16:59:19:339 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "05 Beauty And The Beast" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/05 Beauty And The Beast.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/05 Beauty And The Beast.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/05 Beauty And The Beast.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/05 Beauty And The Beast.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 16:59:19:590 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/05 Beauty And The Beast.mp3
[0m[0;34m2026-02-12 16:59:19:590 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 16:59:19:590 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 16:59:19:590 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/05 Beauty And The Beast.mp3, content_pos:0
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 16:59:19:597 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[9879677], duration[246991ms]
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 16:59:19:597 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 05 Beauty And The Beast
[MusicPlayerService] â­ï¸  Next: "05 Beauty And The Beast"
[MusicPlayerService] handleNext returning success
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[0;32m2026-02-12 16:59:20:090 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 16:59:20:090 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 16:59:20:090 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 16:59:20:090 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 16:59:20:090 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 16:59:20:090 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 16:59:20:091 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 16:59:20:091 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 16:59:20:091 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1298472224
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:00:52:653 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 17:00:52:713 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:00:52:713 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:00:52:713 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:00:53:088 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:00:53:088 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:00:53:088 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:00:53:088 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:00:53:088 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:00:53:089 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:00:53:089 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:00:53:089 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "06 When I Fall In Love" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/06 When I Fall In Love.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/06 When I Fall In Love.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/06 When I Fall In Love.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/06 When I Fall In Love.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:00:53:339 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/06 When I Fall In Love.mp3
[0m[0;34m2026-02-12 17:00:53:339 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:00:53:339 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:00:53:339 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/06 When I Fall In Love.mp3, content_pos:0
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 17:00:53:346 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[10526956], duration[263173ms]
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:00:53:346 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 06 When I Fall In Love
[MusicPlayerService] â­ï¸  Next: "06 When I Fall In Love"
[MusicPlayerService] handleNext returning success
[0;32m2026-02-12 17:00:53:839 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:00:53:840 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:00:53:840 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:00:53:840 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:00:53:840 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[MusicPlayerService] Sending response for: next
[0;32m2026-02-12 17:00:53:840 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:00:53:840 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:00:53:840 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0m[MusicPlayerService] Response sent
[0;34m2026-02-12 17:00:53:840 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1302972160
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:01:01:974 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 17:01:02:093 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:01:02:093 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:01:02:093 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:01:02:463 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:01:02:463 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:01:02:463 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:01:02:463 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:01:02:463 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:01:02:464 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:01:02:464 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:01:02:464 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "07 Up Where We Belong" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/07 Up Where We Belong.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/07 Up Where We Belong.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/07 Up Where We Belong.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/07 Up Where We Belong.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:01:02:714 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/07 Up Where We Belong.mp3
[0m[0;34m2026-02-12 17:01:02:714 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:01:02:715 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:01:02:715 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/07 Up Where We Belong.mp3, content_pos:0
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 17:01:02:722 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[9181239], duration[229530ms]
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:01:02:722 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 07 Up Where We Belong
[MusicPlayerService] â­ï¸  Next: "07 Up Where We Belong"
[MusicPlayerService] handleNext returning success
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[0;32m2026-02-12 17:01:03:215 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:01:03:216 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:01:03:216 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:01:03:216 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:01:03:216 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;32m2026-02-12 17:01:03:216 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:01:03:216 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:01:03:216 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0m[0;34m2026-02-12 17:01:03:217 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1303422432
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:01:10:203 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 17:01:10:222 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:01:10:223 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:01:10:223 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:01:10:588 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:01:10:588 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:01:10:588 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:01:10:588 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:01:10:588 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[0;32m2026-02-12 17:01:10:589 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:01:10:589 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:01:10:589 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[LitePlayerWrapper] reset result=0
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "08 Don't Let The Sun Go Down On Me" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:01:10:842 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:01:10:842 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/08 Don't Let The Sun Go Down On Me.mp3, content_pos:0
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 17:01:10:842 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[10659556], duration[266488ms]
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:01:10:842 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 08 Don't Let The Sun Go Down On Me
[0;32m2026-02-12 17:01:11:342 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] â­ï¸  Next: "08 Don't Let The Sun Go Down On Me"
[MusicPlayerService] handleNext returning success
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[0;34m2026-02-12 17:01:11:343 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:01:11:343 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:01:11:343 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:01:11:343 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:01:11:343 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:01:11:344 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:01:11:344 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:01:11:344 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1303812344
[0;31m2026-02-12 17:05:37:836 E [liteplayer]mp3_decoder: Invalid mp3 sync word
[0m[0;33m2026-02-12 17:05:37:836 W [liteplayer]mp3_decoder: MP3 demux dummy data, AEL_IO_DONE
[0m[0;34m2026-02-12 17:05:37:836 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:05:37:836 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:05:37:836 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:05:38:211 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:05:38:211 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:05:38:211 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:05:38:211 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:05:38:211 D [liteplayer]core: [ file-mp3_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (08 Don't Let The Sun Go Down On Me)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "09 Do That To Me One More Time" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:05:38:214 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:05:38:214 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:05:38:214 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:05:38:414 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3
[0m[0;34m2026-02-12 17:05:38:414 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:05:38:414 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:05:38:414 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3, content_pos:0
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 17:05:38:422 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[10151124], duration[253778ms]
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:05:38:422 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:05:38:914 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:05:38:915 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:05:38:915 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:05:38:915 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:05:38:915 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:05:38:915 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:05:38:915 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:05:38:915 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:05:38:915 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1316652152
[MusicPlayerService] Received command: pause
[PlaybackController] Paused
[MusicPlayerService] â¸ï¸  Paused at 95616ms
[MusicPlayerService] Sending response for: pause
[MusicPlayerService] Response sent
[0;32m2026-02-12 17:07:13:982 I [liteplayer]core: Pausing player[file]
[0m[0;34m2026-02-12 17:07:14:085 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:07:14:085 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:07:14:085 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:07:14:460 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;34m2026-02-12 17:07:14:460 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:07:14:460 D [liteplayer]core: [ file-mp3_decoder ] Receive paused event
[0m[0;34m2026-02-12 17:07:14:461 D [liteplayer]audio_element: [mp3_decoder] Element paused
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 3
[PlaybackController] State transition: 2 -> 3 (isTransitioning=0)
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Resuming from pause
[PlaybackController] Resumed
[MusicPlayerService] â–¶ï¸  Playing: "09 Do That To Me One More Time"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;32m2026-02-12 17:24:44:515 I [liteplayer]core: Resuming player[file]
[0m[0;34m2026-02-12 17:24:44:516 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:24:44:516 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;32m2026-02-12 17:24:44:516 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:24:44:516 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1371642168
[0;34m2026-02-12 17:24:44:537 D [liteplayer]mp3_decoder: MP3 decoder already opened
[0m[0;34m2026-02-12 17:24:44:537 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:24:44:537 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:24:44:537 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 3 -> 2 (isTransitioning=0)
[MusicPlayerService] Received command: stop
[PlaybackController::stop] ========== START ==========
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:24:45:522 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 17:24:45:580 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:24:45:580 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:24:45:580 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:24:45:955 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:24:45:955 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:24:45:955 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:24:45:955 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:24:45:955 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:24:45:956 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:24:45:956 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:24:45:956 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::stop] ========== END ==========
[MusicPlayerService] â¹ï¸  Stopped
[MusicPlayerService] Sending response for: stop
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: get_status
[MusicPlayerService] ðŸ“Š Status: stopped (pos: 0ms)
[MusicPlayerService] Sending response for: get_status
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Starting current track
[PlaybackController] startCurrentTrackInternal: "09 Do That To Me One More Time" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:29:38:447 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3
[0m[0;34m2026-02-12 17:29:38:447 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[0;32m2026-02-12 17:29:38:447 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:29:38:448 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/09 Do That To Me One More Time.mp3, content_pos:0
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 17:29:38:455 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[10151124], duration[253778ms]
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:29:38:455 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::play] ========== END ==========
[MusicPlayerService] â–¶ï¸  Playing: "09 Do That To Me One More Time"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;32m2026-02-12 17:29:38:947 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:29:38:948 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:29:38:948 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:29:38:948 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:29:38:948 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;32m2026-02-12 17:29:38:948 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:29:38:948 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:29:38:948 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0m[0;34m2026-02-12 17:29:38:948 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1385772152
[0;31m2026-02-12 17:33:52:704 E [liteplayer]mp3_decoder: Invalid mp3 sync word
[0m[0;33m2026-02-12 17:33:52:704 W [liteplayer]mp3_decoder: MP3 demux dummy data, AEL_IO_DONE
[0m[0;34m2026-02-12 17:33:52:704 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:33:52:704 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:33:52:704 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:33:53:080 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:33:53:080 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:33:53:080 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:33:53:080 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:33:53:080 D [liteplayer]core: [ file-mp3_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (09 Do That To Me One More Time)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "10 I Know Him So Well" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/10 I Know Him So Well.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:33:53:096 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:33:53:096 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:33:53:096 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/10 I Know Him So Well.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/10 I Know Him So Well.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/10 I Know Him So Well.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:33:53:297 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/10 I Know Him So Well.mp3
[0m[0;34m2026-02-12 17:33:53:297 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:33:53:297 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:33:53:297 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/10 I Know Him So Well.mp3, content_pos:0
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 17:33:53:304 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[10310848], duration[257771ms]
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:33:53:304 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:33:53:797 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:33:53:797 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:33:53:797 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:33:53:798 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:33:53:798 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:33:53:798 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:33:53:798 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:33:53:798 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:33:53:798 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1398006160
[MusicPlayerService] Received command: next
[MusicPlayerService] handleNext called
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:37:50:817 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 17:37:50:829 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:37:50:829 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:37:50:829 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:37:51:204 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:37:51:204 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:37:51:204 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:37:51:204 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:37:51:204 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:37:51:205 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:37:51:205 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:37:51:205 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "11 Top Of The World" (path=/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/11 Top Of The World.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/11 Top Of The World.mp3
[LitePlayerWrapper] loadFile called: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/11 Top Of The World.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/11 Top Of The World.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:37:51:455 I [liteplayer]core: Set player source: /home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/11 Top Of The World.mp3
[0m[0;34m2026-02-12 17:37:51:455 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:37:51:455 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:37:51:455 D [liteplayer]file: Opening file:/home/pi/Music/å”¯ç¾Žæµªæ¼«çš„æ—‹å¾‹ã€æ¬§ç¾Žæ€€æ—§ç»å…¸é‡‘æ›²ã€‘8CD/CD1/11 Top Of The World.mp3, content_pos:0
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=320, frame_size=1044
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]mp3_extractor:   >bit_rate          : 320
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]mp3_extractor:   >frame_size        : 1044
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]mp3_extractor:   >frame_start_offset: 0
[0m[0;32m2026-02-12 17:37:51:462 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[0], len[7297862], duration[182446ms]
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:37:51:462 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:37:51:463 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========[0;32m2026-02-12 17:37:51:955 I [liteplayer]core: Starting player[file]
[0m
[MusicPlayerService] handleNext: getting current track
[MusicPlayerService] handleNext: got track: 11 Top Of The World
[MusicPlayerService] â­ï¸  Next: "11 Top Of The World"
[MusicPlayerService] handleNext returning success
[MusicPlayerService] Sending response for: next
[MusicPlayerService] Response sent
[0;34m2026-02-12 17:37:51:956 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:37:51:957 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:37:51:957 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:37:51:957 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;32m2026-02-12 17:37:51:958 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:37:51:958 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:37:51:958 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0m[0;34m2026-02-12 17:37:51:958 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1409442232
[MusicPlayerService] Received command: pause
[PlaybackController] Paused
[MusicPlayerService] â¸ï¸  Paused at 4372ms
[0;32m2026-02-12 17:37:56:049 I [liteplayer]core: Pausing player[file]
[0m[MusicPlayerService] Sending response for: pause
[MusicPlayerService] Response sent
[0;34m2026-02-12 17:37:56:084 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:37:56:084 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:37:56:084 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:37:56:454 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;34m2026-02-12 17:37:56:454 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:37:56:454 D [liteplayer]core: [ file-mp3_decoder ] Receive paused event
[0m[0;34m2026-02-12 17:37:56:454 D [liteplayer]audio_element: [mp3_decoder] Element paused
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 3
[PlaybackController] State transition: 2 -> 3 (isTransitioning=0)
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Resuming from pause
[PlaybackController] Resumed
[MusicPlayerService] â–¶ï¸  Playing: "11 Top Of The World"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;32m2026-02-12 17:49:03:113 I [liteplayer]core: Resuming player[file]
[0m[0;34m2026-02-12 17:49:03:114 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:49:03:114 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;32m2026-02-12 17:49:03:114 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:49:03:114 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1441656208
[0;34m2026-02-12 17:49:03:116 D [liteplayer]mp3_decoder: MP3 decoder already opened
[0m[0;34m2026-02-12 17:49:03:116 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:49:03:116 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:49:03:118 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 3 -> 2 (isTransitioning=0)
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Already playing
[MusicPlayerService] â–¶ï¸  Playing: "11 Top Of The World"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[MusicPlayerService] Received command: pause
[PlaybackController] Paused
[MusicPlayerService] â¸ï¸  Paused at 92421ms
[MusicPlayerService] Sending response for: pause
[MusicPlayerService] Response sent
[0;32m2026-02-12 17:50:30:659 I [liteplayer]core: Pausing player[file]
[0m[0;34m2026-02-12 17:50:30:702 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:50:30:702 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:50:30:702 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:50:31:077 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;34m2026-02-12 17:50:31:077 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:50:31:077 D [liteplayer]core: [ file-mp3_decoder ] Receive paused event
[0m[0;34m2026-02-12 17:50:31:077 D [liteplayer]audio_element: [mp3_decoder] Element paused
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 3
[PlaybackController] State transition: 2 -> 3 (isTransitioning=0)
[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Resuming from pause
[PlaybackController] Resumed
[MusicPlayerService] â–¶ï¸  Playing: "11 Top Of The World"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[0;32m2026-02-12 17:50:33:454 I [liteplayer]core: Resuming player[file]
[0m[0;34m2026-02-12 17:50:33:454 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:50:33:454 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;32m2026-02-12 17:50:33:454 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:50:33:454 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1445994168
[0;34m2026-02-12 17:50:33:457 D [liteplayer]mp3_decoder: MP3 decoder already opened
[0m[0;34m2026-02-12 17:50:33:457 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:50:33:457 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:50:33:457 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 3 -> 2 (isTransitioning=0)
[0;31m2026-02-12 17:52:03:457 E [liteplayer]mp3_decoder: Invalid mp3 sync word
[0m[0;33m2026-02-12 17:52:03:457 W [liteplayer]mp3_decoder: MP3 demux dummy data, AEL_IO_DONE
[0m[0;34m2026-02-12 17:52:03:457 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:52:03:457 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:52:03:457 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:52:03:952 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:52:03:952 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:52:03:952 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:52:03:952 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:52:03:952 D [liteplayer]core: [ file-mp3_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (11 Top Of The World)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "AlanWalker-Faded" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:52:03:958 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:52:03:958 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:52:03:958 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:52:04:159 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[0m[0;34m2026-02-12 17:52:04:159 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:52:04:159 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:52:04:159 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3, content_pos:0
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=128, frame_size=417
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]mp3_extractor:   >bit_rate          : 128
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]mp3_extractor:   >frame_size        : 417
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]mp3_extractor:   >frame_start_offset: 1100
[0m[0;32m2026-02-12 17:52:04:166 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[1100], len[1067730], duration[66664ms]
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 948 bytes in ringbuf
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:52:04:166 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:52:04:659 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] Received command: play
[PlaybackController::play] ========== START ==========
[PlaybackController::play] Starting current track
[PlaybackController] startCurrentTrackInternal: "AlanWalker-Faded" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;34m2026-02-12 17:52:04:659 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:52:04:659 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:52:04:659 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:52:04:659 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:52:04:659 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:52:04:659 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:52:04:659 D [liteplayer]core: Destroy audio decoder
[0m[0;32m2026-02-12 17:52:04:660 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:52:04:660 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:52:04:660 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1450368160
[0;34m2026-02-12 17:52:04:662 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:52:04:662 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:52:04:662 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:52:04:702 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:52:04:702 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:52:04:702 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:52:04:702 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:52:04:702 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=0)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:52:04:859 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=0)
[0;32m2026-02-12 17:52:04:859 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/AlanWalker-Faded.mp3, content_pos:0
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=128, frame_size=417
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]mp3_extractor:   >bit_rate          : 128
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]mp3_extractor:   >frame_size        : 417
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]mp3_extractor:   >frame_start_offset: 1100
[0m[0;32m2026-02-12 17:52:04:859 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[1100], len[1067730], duration[66664ms]
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 948 bytes in ringbuf
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:52:04:859 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=0)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::play] ========== END ==========
[MusicPlayerService] â–¶ï¸  Playing: "AlanWalker-Faded"
[MusicPlayerService] Sending response for: play
[MusicPlayerService] Response sent
[MusicPlayerService] Controller event: TrackEnded (AlanWalker-Faded)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:52:05:360 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:52:05:360 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:52:05:360 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:52:05:360 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:52:05:360 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:52:05:360 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:52:05:360 I [liteplayer]core: Stopping player[file]
[0m[0;32m2026-02-12 17:52:05:361 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:52:05:361 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:52:05:361 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1450404168
[0;34m2026-02-12 17:52:05:363 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:52:05:363 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:52:05:363 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:52:05:452 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:52:05:452 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:52:05:452 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:52:05:452 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:52:05:452 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:52:05:452 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:52:05:452 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:52:05:452 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "Dog Sound" (path=/home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/../../assets/sounds/animal/dog.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/../../assets/sounds/animal/dog.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/../../assets/sounds/animal/dog.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/../../assets/sounds/animal/dog.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:52:05:703 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/../../assets/sounds/animal/dog.wav
[0m[0;34m2026-02-12 17:52:05:703 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:52:05:703 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:52:05:703 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/3rd/liteplayer/../../assets/sounds/animal/dog.wav, content_pos:0
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]wav_extractor:   >dataSize             : 212780
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:52:05:712 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[212824], duration[2000ms]
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:52:05:712 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:52:06:203 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:52:06:203 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:52:06:203 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:52:06:203 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:52:06:203 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:52:06:203 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:52:06:203 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:52:06:203 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:52:06:203 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1450446200
[0;34m2026-02-12 17:52:08:087 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:52:08:087 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:52:08:087 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:52:08:452 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:52:08:452 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:52:08:452 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:52:08:452 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:52:08:452 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (Dog Sound)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "ballad" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:52:08:456 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:52:08:456 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:52:08:457 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:52:08:657 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3
[0m[0;34m2026-02-12 17:52:08:657 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:52:08:657 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:52:08:657 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/ballad.mp3, content_pos:0
[0m[0;34m2026-02-12 17:52:08:664 D [liteplayer]parser: Discarding 5928 bytes to reach new offset
[0m[0;34m2026-02-12 17:52:08:664 D [liteplayer]mp3_extractor: channels=2, sample_rate=16000, bit_rate=32, frame_size=144
[0m[0;34m2026-02-12 17:52:08:664 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:52:08:664 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:52:08:664 D [liteplayer]mp3_extractor:   >sample_rate       : 16000
[0m[0;34m2026-02-12 17:52:08:664 D [liteplayer]mp3_extractor:   >bit_rate          : 32
[0m[0;34m2026-02-12 17:52:08:664 D [liteplayer]mp3_extractor:   >frame_size        : 144
[0m[0;34m2026-02-12 17:52:08:664 D [liteplayer]mp3_extractor:   >frame_start_offset: 7976
[0m[0;32m2026-02-12 17:52:08:664 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[16000], channels[2], bits[16], pos[7976], len[232904], duration[56232ms]
[0m[0;34m2026-02-12 17:52:08:665 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:52:08:665 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:52:08:665 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:52:08:665 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:52:08:665 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:52:08:665 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:52:09:158 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:52:09:158 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:52:09:158 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:52:09:158 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:52:09:158 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:52:09:159 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:52:09:160 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=16000, ch=2, bits=16
[0m[0;32m2026-02-12 17:52:09:160 I [liteplayer]core: Opening sink: rate:16000, channels:2, bits:16
[0m[0;34m2026-02-12 17:52:09:160 D [liteplayer]alsa: Opening alsa: samplerate=16000, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 16000
  exact rate   : 16000 (16000/1)
  msbits       : 16
  buffer_size  : 6000
  period_size  : 2000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 2000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 6000
  silence_threshold: 0
  silence_size : 0
  boundary     : 1688849860263936000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 3
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1450584280
[0;34m2026-02-12 17:53:05:076 D [liteplayer]file: file read done: 232904/232904
[0m[0;34m2026-02-12 17:53:05:076 D [liteplayer]audio_element: IN-[mp3_decoder] AEL_IO_DONE,-2
[0m[0;34m2026-02-12 17:53:05:076 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:05:076 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:05:076 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:05:451 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:05:451 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:05:451 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:05:451 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:53:05:451 D [liteplayer]core: [ file-mp3_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (ballad)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "bear" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bear.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[0;32m2026-02-12 17:53:05:463 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:05:463 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:05:463 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bear.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bear.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bear.wav
[0;32m2026-02-12 17:53:05:663 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bear.wav
[0m[0;34m2026-02-12 17:53:05:663 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[0;32m2026-02-12 17:53:05:664 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:05:664 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bear.wav, content_pos:0
[0m[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;34m2026-02-12 17:53:05:674 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]wav_extractor:   >dataSize             : 252832
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:05:674 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[252876], duration[2000ms]
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:05:674 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:05:675 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:05:675 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:05:675 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[0;32m2026-02-12 17:53:06:165 I [liteplayer]core: Starting player[file]
[0m[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;34m2026-02-12 17:53:06:165 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:06:165 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:06:165 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:06:165 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:06:165 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:53:06:165 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:06:166 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[0;34m2026-02-12 17:53:06:166 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1453320184
[0;34m2026-02-12 17:53:08:465 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:08:465 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:08:465 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:08:827 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:08:827 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:08:827 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:08:827 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:08:827 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (bear)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "bear" (path=/home/pi/Music/test/bear.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[0;32m2026-02-12 17:53:08:834 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:08:835 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:08:835 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/bear.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/bear.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/bear.wav
[0;32m2026-02-12 17:53:09:035 I [liteplayer]core: Set player source: /home/pi/Music/test/bear.wav
[0m[0;34m2026-02-12 17:53:09:035 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[0;32m2026-02-12 17:53:09:036 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:09:036 D [liteplayer]file: Opening file:/home/pi/Music/test/bear.wav, content_pos:0
[0m[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;34m2026-02-12 17:53:09:044 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]wav_extractor:   >dataSize             : 252832
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:09:044 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[252876], duration[2000ms]
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:09:044 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:53:09:537 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:09:537 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:09:537 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:09:537 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:09:537 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:53:09:537 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:09:537 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:09:537 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 17:53:09:538 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1453482336
[0;34m2026-02-12 17:53:11:956 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:11:956 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:11:956 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:12:202 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:12:202 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:12:202 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:12:202 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:12:202 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (bear)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "bee" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bee.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:53:12:211 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:12:211 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:12:211 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bee.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bee.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bee.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:12:413 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bee.wav
[0m[0;34m2026-02-12 17:53:12:414 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:12:414 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:12:414 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bee.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]wav_extractor:   >dataSize             : 417664
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:12:423 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[417708], duration[4000ms]
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:12:423 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:53:12:914 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:12:915 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:12:915 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:12:915 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:12:915 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:53:12:915 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 17:53:12:915 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:53:12:915 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: [0;34m2026-02-12 17:53:12:915 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1453644264
[0;34m2026-02-12 17:53:16:960 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:16:960 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:16:960 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:17:327 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:17:327 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:17:327 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:17:327 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:17:327 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (bee)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "bee" (path=/home/pi/Music/test/bee.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[0;32m2026-02-12 17:53:17:335 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:17:335 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:17:335 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/bee.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/bee.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/bee.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:17:535 I [liteplayer]core: Set player source: /home/pi/Music/test/bee.wav
[0m[0;34m2026-02-12 17:53:17:535 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:17:536 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:17:536 D [liteplayer]file: Opening file:/home/pi/Music/test/bee.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]wav_extractor:   >dataSize             : 417664
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:17:543 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[417708], duration[4000ms]
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:17:543 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:53:18:036 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:18:036 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:18:036 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:18:036 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:18:036 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:18:036 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:53:18:036 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:18:036 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:18:036 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1453890328
[0;34m2026-02-12 17:53:22:078 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:22:078 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:22:078 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:22:452 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:22:452 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:22:452 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:22:452 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:22:452 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (bee)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "bird" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:53:22:459 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:22:459 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:22:459 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:22:659 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav
[0m[0;34m2026-02-12 17:53:22:659 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:22:659 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:22:659 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/bird.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]wav_extractor:   >dataSize             : 260184
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:22:668 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[260228], duration[2000ms]
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:22:668 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=[0;32m2026-02-12 17:53:23:159 I [liteplayer]core: Starting player[file]
[0m1) ==========
[0;34m2026-02-12 17:53:23:159 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:23:159 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:23:159 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:23:159 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:23:159 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:53:23:159 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:23:159 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:23:159 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1454136153
[0;34m2026-02-12 17:53:25:577 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:25:577 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:25:577 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:25:951 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:25:951 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:25:951 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:25:951 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:25:951 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (bird)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "bird" (path=/home/pi/Music/test/bird.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:53:25:958 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:25:958 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:25:958 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/bird.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/bird.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/bird.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:26:158 I [liteplayer]core: Set player source: /home/pi/Music/test/bird.wav
[0m[0;34m2026-02-12 17:53:26:158 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:26:158 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:26:158 D [liteplayer]file: Opening file:/home/pi/Music/test/bird.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]wav_extractor:   >dataSize             : 260184
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:26:165 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[260228], duration[2000ms]
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:26:165 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:53:26:658 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:26:658 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:26:658 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:26:658 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:26:658 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:53:26:658 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:26:658 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:26:658 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 17:53:26:658 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1454304160
[0;34m2026-02-12 17:53:29:077 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:29:078 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:29:078 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:29:451 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:29:451 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:29:451 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:29:451 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:29:451 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (bird)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "birthday" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:53:29:461 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:29:461 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:29:461 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:29:661 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav
[0m[0;34m2026-02-12 17:53:29:661 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:29:662 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:29:662 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/birthday.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]wav_extractor:   >dataSize             : 1153652
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:29:671 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[1153696], duration[12000ms]
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:29:671 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:53:30:161 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:30:161 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:30:161 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:30:161 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:30:161 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:53:30:161 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:30:161 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:30:161 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 17:53:30:161 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1454472200
[0;34m2026-02-12 17:53:41:829 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:41:829 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:41:829 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:42:201 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:42:201 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:42:201 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:42:201 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:42:201 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (birthday)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "budgie_chirps1" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:53:42:209 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:42:209 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:42:209 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:42:409 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav
[0m[0;34m2026-02-12 17:53:42:409 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:42:409 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:42:409 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]wav_extractor:   >channels             : 2
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]wav_extractor:   >bits                 : 24
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]wav_extractor:   >byteRate             : 288000
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]wav_extractor:   >blockAlign           : 6
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]wav_extractor:   >dataSize             : 0
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]wav_extractor:   >dataOffset           : 0
[0m[0;31m2026-02-12 17:53:42:416 E [liteplayer]wav_extractor: Invalid dataOffset:0
[0m[0;31m2026-02-12 17:53:42:416 E [liteplayer]wav_extractor: Failed to parse wav header
[0m[0;31m2026-02-12 17:53:42:416 E [liteplayer]parser: Failed to parse url:[/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav]
[0m[0;34m2026-02-12 17:53:42:416 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;33m2026-02-12 17:53:42:416 W [liteplayer]listplayer: Failed to play url: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps1.wav, remove this url from list
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 5
[PlaybackController] State transition: 1 -> 5 (isTransitioning=1)
[PlaybackController] Error: Playback error occurred
[PlaybackController] Error recovery: request next track (retry 1/3)
[PlaybackController] Error: Error code: -1
[PlaybackController] Error recovery: request next track (retry 2/3)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=5
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: ErrorOccurred (Playback error occurred)
[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=5
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:42:910 I [liteplayer]core: Starting player[file]
[0m[0;31m2026-02-12 17:53:42:910 E [liteplayer]core: Can't start in state=[255]
[0m[0;32m2026-02-12 17:53:42:910 I [liteplayer]core: Stopping player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 5 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:42:910 I [liteplayer]core: Resetting player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "budgie_chirps1" (path=/home/pi/Music/test/budgie_chirps1.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/test/budgie_chirps1.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/budgie_chirps1.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/budgie_chirps1.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:43:161 I [liteplayer]core: Set player source: /home/pi/Music/test/budgie_chirps1.wav
[0m[0;34m2026-02-12 17:53:43:161 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:43:161 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:43:161 D [liteplayer]file: Opening file:/home/pi/Music/test/budgie_chirps1.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]wav_extractor:   >channels             : 2
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]wav_extractor:   >bits                 : 24
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]wav_extractor:   >byteRate             : 288000
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]wav_extractor:   >blockAlign           : 6
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]wav_extractor:   >dataSize             : 0
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]wav_extractor:   >dataOffset           : 0
[0m[0;31m2026-02-12 17:53:43:168 E [liteplayer]wav_extractor: Invalid dataOffset:0
[0m[0;31m2026-02-12 17:53:43:168 E [liteplayer]wav_extractor: Failed to parse wav header
[0m[0;31m2026-02-12 17:53:43:168 E [liteplayer]parser: Failed to parse url:[/home/pi/Music/test/budgie_chirps1.wav]
[0m[0;34m2026-02-12 17:53:43:168 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;33m2026-02-12 17:53:43:168 W [liteplayer]listplayer: Failed to play url: /home/pi/Music/test/budgie_chirps1.wav, remove this url from list
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 5
[PlaybackController] State transition: 1 -> 5 (isTransitioning=1)
[PlaybackController] Error: Playback error occurred
[PlaybackController] Error recovery: stop retrying (max retries)
[PlaybackController] Error: Error code: -1
[PlaybackController] Error recovery: request next track (retry 1/3)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=5
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: TrackEnded (budgie_chirps1)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=5
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:43:661 I [liteplayer]core: Starting player[file]
[0m[0;31m2026-02-12 17:53:43:661 E [liteplayer]core: Can't start in state=[255]
[0m[0;32m2026-02-12 17:53:43:661 I [liteplayer]core: Stopping player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 5 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:43:661 I [liteplayer]core: Resetting player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "budgie_chirps2" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:43:912 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav
[0m[0;34m2026-02-12 17:53:43:912 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:43:912 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:43:912 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]wav_extractor:   >sampleRate           : 44100
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]wav_extractor:   >channels             : 2
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]wav_extractor:   >bits                 : 24
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]wav_extractor:   >byteRate             : 264600
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]wav_extractor:   >blockAlign           : 6
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]wav_extractor:   >dataSize             : 0
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]wav_extractor:   >dataOffset           : 0
[0m[0;31m2026-02-12 17:53:43:919 E [liteplayer]wav_extractor: Invalid dataOffset:0
[0m[0;31m2026-02-12 17:53:43:919 E [liteplayer]wav_extractor: Failed to parse wav header
[0m[0;31m2026-02-12 17:53:43:919 E [liteplayer]parser: Failed to parse url:[/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav]
[0m[0;34m2026-02-12 17:53:43:919 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;33m2026-02-12 17:53:43:919 W [liteplayer]listplayer: Failed to play url: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/budgie_chirps2.wav, remove this url from list
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 5
[PlaybackController] State transition: 1 -> 5 (isTransitioning=1)
[PlaybackController] Error: Playback error occurred
[PlaybackController] Error recovery: request next track (retry 2/3)
[PlaybackController] Error: Error code: -1
[PlaybackController] Error recovery: stop retrying (max retries)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=5
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: ErrorOccurred (Error code: -1)
[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=5
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:44:412 I [liteplayer]core: Starting player[file]
[0m[0;31m2026-02-12 17:53:44:412 E [liteplayer]core: Can't start in state=[255]
[0m[0;32m2026-02-12 17:53:44:412 I [liteplayer]core: Stopping player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 5 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:44:413 I [liteplayer]core: Resetting player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "budgie_chirps2" (path=/home/pi/Music/test/budgie_chirps2.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/test/budgie_chirps2.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/budgie_chirps2.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/budgie_chirps2.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:44:663 I [liteplayer]core: Set player source: /home/pi/Music/test/budgie_chirps2.wav
[0m[0;34m2026-02-12 17:53:44:663 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:44:663 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:44:663 D [liteplayer]file: Opening file:/home/pi/Music/test/budgie_chirps2.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]wav_extractor:   >sampleRate           : 44100
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]wav_extractor:   >channels             : 2
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]wav_extractor:   >bits                 : 24
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]wav_extractor:   >byteRate             : 264600
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]wav_extractor:   >blockAlign           : 6
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]wav_extractor:   >dataSize             : 0
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]wav_extractor:   >dataOffset           : 0
[0m[0;31m2026-02-12 17:53:44:670 E [liteplayer]wav_extractor: Invalid dataOffset:0
[0m[0;31m2026-02-12 17:53:44:670 E [liteplayer]wav_extractor: Failed to parse wav header
[0m[0;31m2026-02-12 17:53:44:670 E [liteplayer]parser: Failed to parse url:[/home/pi/Music/test/budgie_chirps2.wav]
[0m[0;34m2026-02-12 17:53:44:670 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;33m2026-02-12 17:53:44:670 W [liteplayer]listplayer: Failed to play url: /home/pi/Music/test/budgie_chirps2.wav, remove this url from list
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 5
[PlaybackController] State transition: 1 -> 5 (isTransitioning=1)
[PlaybackController] Error: Playback error occurred
[PlaybackController] Error recovery: request next track (retry 1/3)
[PlaybackController] Error: Error code: -1
[PlaybackController] Error recovery: request next track (retry 2/3)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=5
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: TrackEnded (budgie_chirps1)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=5
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:45:164 I [liteplayer]core: Starting player[file]
[0m[0;31m2026-02-12 17:53:45:164 E [liteplayer]core: Can't start in state=[255]
[0m[0;32m2026-02-12 17:53:45:164 I [liteplayer]core: Stopping player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 5 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:45:164 I [liteplayer]core: Resetting player[file]
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "cat" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cat.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cat.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cat.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cat.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:45:415 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cat.wav
[0m[0;34m2026-02-12 17:53:45:415 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:45:415 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:45:415 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cat.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]wav_extractor:   >dataSize             : 286896
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:45:424 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[286940], duration[2000ms]
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:45:424 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:53:45:915 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:45:916 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:45:916 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:45:916 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:45:916 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:53:45:916 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 17:53:45:916 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:53:45:916 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: [0;34m2026-02-12 17:53:45:916 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455228168
[MusicPlayerService] Controller event: ErrorOccurred (Playback error occurred)
[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:45:926 I [liteplayer]core: Stopping player[file]
[0m[0;34m2026-02-12 17:53:45:927 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:45:927 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:45:927 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:46:201 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:46:201 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:46:201 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:46:201 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:46:201 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:46:202 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:46:202 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:46:202 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "cat" (path=/home/pi/Music/test/cat.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/test/cat.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/cat.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/cat.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:46:453 I [liteplayer]core: Set player source: /home/pi/Music/test/cat.wav
[0m[0;34m2026-02-12 17:53:46:453 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:46:453 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:46:453 D [liteplayer]file: Opening file:/home/pi/Music/test/cat.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:46:459 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]wav_extractor:   >dataSize             : 286896
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:46:460 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[286940], duration[2000ms]
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:46:460 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: ErrorOccurred (Error code: -1)
[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:46:953 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:46:953 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:46:953 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:46:953 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:46:953 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:53:46:953 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 17:53:46:953 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:53:46:953 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:46:953 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:53:46:953 I [liteplayer]core: Stopping player[file]
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455282200
[0;34m2026-02-12 17:53:46:955 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:46:955 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:46:955 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:47:076 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:47:076 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:47:076 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:47:076 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:47:076 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:47:079 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:47:079 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:47:079 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "chicken" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chicken.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chicken.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chicken.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chicken.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:47:330 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chicken.wav
[0m[0;34m2026-02-12 17:53:47:330 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:47:330 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:47:330 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chicken.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]wav_extractor:   >dataSize             : 279078
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:47:339 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[279122], duration[2000ms]
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:47:339 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: TrackEnded (budgie_chirps1)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:47:830 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:47:830 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:47:830 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:47:830 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:47:830 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:47:830 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:53:47:830 I [liteplayer]core: Stopping player[file]
[0m[0;32m2026-02-12 17:53:47:831 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:47:831 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:47:831 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455324160
[0;34m2026-02-12 17:53:47:833 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:47:833 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:47:833 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:47:951 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:47:951 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:47:951 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:47:951 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:47:951 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:47:952 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:47:952 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:47:952 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "chicken" (path=/home/pi/Music/test/chicken.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/test/chicken.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/chicken.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/chicken.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:48:203 I [liteplayer]core: Set player source: /home/pi/Music/test/chicken.wav
[0m[0;34m2026-02-12 17:53:48:203 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:48:203 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:48:203 D [liteplayer]file: Opening file:/home/pi/Music/test/chicken.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]wav_extractor:   >dataSize             : 279078
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:48:210 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[279122], duration[2000ms]
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:48:210 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: ErrorOccurred (Playback error occurred)
[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:48:703 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:48:703 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:48:704 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:48:704 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:48:704 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:53:48:704 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:48:704 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:48:704 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;34m2026-02-12 17:53:48:704 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:53:48:704 I [liteplayer]core: Stopping player[file]
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455366168
[0;34m2026-02-12 17:53:48:706 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:48:706 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:48:706 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:48:826 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:48:826 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:48:826 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:48:826 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:48:826 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:48:827 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:48:827 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:48:827 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "chimpanzee" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chimpanzee.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chimpanzee.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chimpanzee.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chimpanzee.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:49:077 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chimpanzee.wav
[0m[0;34m2026-02-12 17:53:49:077 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:49:078 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:49:078 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/chimpanzee.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]wav_extractor:   >dataSize             : 241408
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:49:088 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[241452], duration[2000ms]
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:49:088 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: TrackEnded (budgie_chirps2)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[0;32m2026-02-12 17:53:49:578 I [liteplayer]core: Starting player[file]
[0m[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;34m2026-02-12 17:53:49:578 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:49:578 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:49:578 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:49:578 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:49:578 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:53:49:578 I [liteplayer]core: Stopping player[file]
[0m[0;32m2026-02-12 17:53:49:579 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:49:579 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:49:579 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455408168
[0;34m2026-02-12 17:53:49:581 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:49:581 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:49:581 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:49:701 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:49:701 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:49:701 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:49:701 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:49:701 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:49:702 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:49:702 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:49:702 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "chimpanzee" (path=/home/pi/Music/test/chimpanzee.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/test/chimpanzee.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/chimpanzee.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/chimpanzee.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:49:952 I [liteplayer]core: Set player source: /home/pi/Music/test/chimpanzee.wav
[0m[0;34m2026-02-12 17:53:49:952 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:49:952 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:49:952 D [liteplayer]file: Opening file:/home/pi/Music/test/chimpanzee.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]wav_extractor:   >dataSize             : 241408
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:49:959 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[241452], duration[2000ms]
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:49:959 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: ErrorOccurred (Error code: -1)
[0;32m2026-02-12 17:53:50:453 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;34m2026-02-12 17:53:50:453 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:50:453 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:50:453 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:50:453 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:53:50:453 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:50:453 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:50:453 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 17:53:50:453 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:53:50:453 I [liteplayer]core: Stopping player[file]
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455450168
[0;34m2026-02-12 17:53:50:456 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:50:456 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:50:456 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:50:576 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:50:576 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:50:576 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:50:576 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:50:576 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:50:577 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:50:577 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:50:577 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "classic" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:50:827 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3
[0m[0;34m2026-02-12 17:53:50:827 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:50:828 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:50:828 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/classic.mp3, content_pos:0
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]parser: Discarding 5929 bytes to reach new offset
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]mp3_extractor: channels=2, sample_rate=16000, bit_rate=32, frame_size=144
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]mp3_extractor:   >sample_rate       : 16000
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]mp3_extractor:   >bit_rate          : 32
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]mp3_extractor:   >frame_size        : 144
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]mp3_extractor:   >frame_start_offset: 7977
[0m[0;32m2026-02-12 17:53:50:836 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[16000], channels[2], bits[16], pos[7977], len[204537], duration[49140ms]
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:50:836 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: ErrorOccurred (Playback error occurred)
[0;32m2026-02-12 17:53:51:328 I [liteplayer]core: Starting player[file]
[0m[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;34m2026-02-12 17:53:51:328 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:51:328 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:51:328 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:53:51:328 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:51:328 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:53:51:328 I [liteplayer]core: Stopping player[file]
[0m[0;32m2026-02-12 17:53:51:329 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=16000, ch=2, bits=16
[0m[0;32m2026-02-12 17:53:51:329 I [liteplayer]core: Opening sink: rate:16000, channels:2, bits:16
[0m[0;34m2026-02-12 17:53:51:329 D [liteplayer]alsa: Opening alsa: samplerate=16000, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 16000
  exact rate   : 16000 (16000/1)
  msbits       : 16
  buffer_size  : 6000
  period_size  : 2000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 2000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 6000
  silence_threshold: 0
  silence_size : 0
  boundary     : 1688849860263936000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 3
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455492168
[0;34m2026-02-12 17:53:51:331 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:51:331 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:51:331 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:51:451 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:51:451 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:51:451 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:51:451 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:53:51:451 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:51:452 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:51:452 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:51:452 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "cow" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cow.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cow.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cow.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cow.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:51:703 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cow.wav
[0m[0;34m2026-02-12 17:53:51:703 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:51:703 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:51:703 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/cow.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]wav_extractor:   >dataSize             : 124832
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:51:712 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[124876], duration[1000ms]
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:51:712 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: TrackEnded (budgie_chirps2)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:52:203 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:52:203 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:52:203 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:52:203 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:52:203 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:53:52:204 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:52:204 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:52:204 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 17:53:52:204 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:53:52:205 I [liteplayer]core: Stopping player[file]
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455534160
[0;34m2026-02-12 17:53:52:206 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:52:206 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:52:206 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:52:326 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:52:326 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:52:326 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:52:326 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:52:326 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:52:327 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:52:327 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:52:327 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "cow" (path=/home/pi/Music/test/cow.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/test/cow.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/cow.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/cow.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:52:578 I [liteplayer]core: Set player source: /home/pi/Music/test/cow.wav
[0m[0;34m2026-02-12 17:53:52:578 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:52:578 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:52:578 D [liteplayer]file: Opening file:/home/pi/Music/test/cow.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:52:584 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:52:584 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:52:584 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:52:584 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:52:584 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:52:584 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:52:585 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:52:585 D [liteplayer]wav_extractor:   >dataSize             : 124832
[0m[0;34m2026-02-12 17:53:52:585 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:52:585 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[124876], duration[1000ms]
[0m[0;34m2026-02-12 17:53:52:585 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:52:585 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:52:585 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:52:585 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:52:585 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:52:585 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: ErrorOccurred ([0;32m2026-02-12 17:53:53:078 I [liteplayer]core: Starting player[file]
[0mError code: -1)
[MusicPlayerService] Skip mark bad track: info is not a valid audio path
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;34m2026-02-12 17:53:53:078 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:53:079 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:53:079 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:53:079 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:53:079 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:53:53:079 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:53:53:079 I [liteplayer]core: Stopping player[file]
[0m[0;32m2026-02-12 17:53:53:079 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:53:079 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455576160
[0;34m2026-02-12 17:53:53:081 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:53:081 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:53:081 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:53:201 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:53:201 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:53:201 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:53:201 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:53:201 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:53:202 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:53:202 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:53:202 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "coyote" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/coyote.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/coyote.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/coyote.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/coyote.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:53:452 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/coyote.wav
[0m[0;34m2026-02-12 17:53:53:452 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:53:452 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:53:452 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/coyote.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]wav_extractor:   >dataSize             : 245300
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:53:459 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[245344], duration[2000ms]
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:53:459 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[MusicPlayerService] Controller event: TrackEnded (budgie_chirps2)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: initiating stop from state=1
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;32m2026-02-12 17:53:53:952 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:53:953 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:53:953 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:53:953 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:53:953 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:53:953 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:53:53:953 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:53:953 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:53:953 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=1)
[0;32m2026-02-12 17:53:53:953 I [liteplayer]core: Stopping player[file]
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455618208
[0;34m2026-02-12 17:53:53:955 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:53:956 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:53:956 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:54:076 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:54:076 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:54:076 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:54:076 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:54:076 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[0;32m2026-02-12 17:53:54:077 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:54:077 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:54:077 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "coyote" (path=/home/pi/Music/test/coyote.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/Music/test/coyote.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/coyote.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/coyote.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:54:327 I [liteplayer]core: Set player source: /home/pi/Music/test/coyote.wav
[0m[0;34m2026-02-12 17:53:54:327 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:54:327 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:54:327 D [liteplayer]file: Opening file:/home/pi/Music/test/coyote.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]wav_extractor:   >dataSize             : 245300
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:54:334 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[245344], duration[2000ms]
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:54:334 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:53:54:827 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:54:828 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:54:828 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:54:828 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:54:828 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:54:828 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:53:54:829 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:53:54:829 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:53:54:829 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455660168
[0;34m2026-02-12 17:53:57:078 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:53:57:078 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:53:57:078 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:53:57:451 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:53:57:451 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:53:57:451 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:53:57:451 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:53:57:451 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (coyote)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "crow" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/crow.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:53:57:459 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:53:57:459 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:53:57:459 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/crow.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/crow.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/crow.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:53:57:659 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/crow.wav
[0m[0;34m2026-02-12 17:53:57:659 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:53:57:660 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:53:57:660 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/crow.wav, content_pos:0
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]wav_extractor:   >dataSize             : 290824
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:53:57:669 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[290868], duration[3000ms]
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:53:57:669 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:53:58:160 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:53:58:160 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:53:58:160 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:53:58:160 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:53:58:160 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:53:58:160 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:53:58:160 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: [0;32m2026-02-12 17:53:58:160 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;34m2026-02-12 17:53:58:160 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455816160
[0;34m2026-02-12 17:54:00:830 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:00:830 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:00:830 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:01:201 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:01:201 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:01:201 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:01:201 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:01:201 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (crow)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "crow" (path=/home/pi/Music/test/crow.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:54:01:205 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:01:205 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:01:205 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/crow.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/crow.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/crow.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:01:405 I [liteplayer]core: Set player source: /home/pi/Music/test/crow.wav
[0m[0;34m2026-02-12 17:54:01:405 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:01:405 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:01:405 D [liteplayer]file: Opening file:/home/pi/Music/test/crow.wav, content_pos:0
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]wav_extractor:   >dataSize             : 290824
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:01:413 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[290868], duration[3000ms]
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:01:413 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:01:906 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:01:906 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:01:906 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:01:906 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:01:906 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:54:01:906 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:54:01:906 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:54:01:907 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:54:01:907 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1455996368
[0;34m2026-02-12 17:54:04:704 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:04:704 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:04:704 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:04:951 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:04:951 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:04:951 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:04:951 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:04:951 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (crow)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "dog" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dog.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[0;32m2026-02-12 17:54:04:960 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:04:960 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:04:960 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dog.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dog.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dog.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:05:161 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dog.wav
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:05:161 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dog.wav, content_pos:0
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]wav_extractor:   >dataSize             : 212780
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:05:161 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[212824], duration[2000ms]
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:05:161 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:05:661 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:05:661 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:05:661 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:05:661 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:05:661 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:54:05:661 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:54:05:661 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:54:05:661 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:54:05:662 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1456176152
[0;34m2026-02-12 17:54:07:585 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:07:585 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:07:585 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:07:952 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:07:952 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:07:952 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:07:952 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:07:952 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (dog)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "dog" (path=/home/pi/Music/test/dog.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:54:07:954 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:07:954 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:07:954 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/dog.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/dog.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/dog.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:08:154 I [liteplayer]core: Set player source: /home/pi/Music/test/dog.wav
[0m[0;34m2026-02-12 17:54:08:154 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:08:154 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:08:154 D [liteplayer]file: Opening file:/home/pi/Music/test/dog.wav, content_pos:0
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]wav_extractor:   >dataSize             : 212780
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:08:162 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[212824], duration[2000ms]
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:08:162 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:08:655 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:08:655 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:08:655 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:08:655 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:08:655 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:54:08:655 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:54:08:655 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:54:08:655 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:54:08:655 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1456320256
[0;34m2026-02-12 17:54:10:703 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:10:703 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:10:703 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:10:952 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:10:952 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:10:952 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:10:952 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:10:952 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (dog)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "dolphin" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dolphin.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:54:10:961 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:10:961 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:10:961 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dolphin.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dolphin.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dolphin.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:11:161 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dolphin.wav
[0m[0;34m2026-02-12 17:54:11:162 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:11:162 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:11:162 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/dolphin.wav, content_pos:0
[0m[0;34m2026-02-12 17:54:11:170 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]wav_extractor:   >dataSize             : 281766
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:11:171 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[281810], duration[2000ms]
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:11:171 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:11:662 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:11:662 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:11:662 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:11:662 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:11:662 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:54:11:663 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:54:11:663 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:54:11:663 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[0;34m2026-02-12 17:54:11:663 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1456464312
[0;34m2026-02-12 17:54:14:327 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:14:327 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:14:327 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:14:702 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:14:702 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:14:702 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:14:702 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:14:702 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (dolphin)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "dolphin" (path=/home/pi/Music/test/dolphin.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:54:14:705 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:14:705 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:14:705 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/dolphin.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/dolphin.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/dolphin.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:14:906 I [liteplayer]core: Set player source: /home/pi/Music/test/dolphin.wav
[0m[0;34m2026-02-12 17:54:14:906 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:14:906 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:14:906 D [liteplayer]file: Opening file:/home/pi/Music/test/dolphin.wav, content_pos:0
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]wav_extractor:   >dataSize             : 281766
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:14:914 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[281810], duration[2000ms]
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:14:914 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:15:406 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:15:406 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:15:406 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:15:406 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:15:406 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:54:15:406 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 17:54:15:406 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:54:15:406 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: [0;34m2026-02-12 17:54:15:406 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1456644264
[0;34m2026-02-12 17:54:18:201 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:18:201 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:18:201 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:18:451 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:18:451 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:18:451 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:18:451 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:18:451 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (dolphin)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "donkey" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/donkey.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:54:18:456 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:18:456 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:18:456 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/donkey.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/donkey.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/donkey.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:18:666 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/donkey.wav
[0m[0;34m2026-02-12 17:54:18:666 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:18:666 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:18:666 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/donkey.wav, content_pos:0
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]wav_extractor:   >dataSize             : 245694
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:18:668 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[245738], duration[2000ms]
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:18:668 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:19:167 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:19:167 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:19:167 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:19:167 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:19:167 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:54:19:167 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 17:54:19:167 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:54:19:167 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:54:19:167 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1456824168
[0;34m2026-02-12 17:54:21:452 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:21:452 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:21:452 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:21:826 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:21:826 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:21:826 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:21:826 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:21:826 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (donkey)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "donkey" (path=/home/pi/Music/test/donkey.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:54:21:830 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:21:830 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:21:830 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/donkey.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/donkey.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/donkey.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:22:030 I [liteplayer]core: Set player source: /home/pi/Music/test/donkey.wav
[0m[0;34m2026-02-12 17:54:22:030 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:22:030 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:22:030 D [liteplayer]file: Opening file:/home/pi/Music/test/donkey.wav, content_pos:0
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]wav_extractor:   >dataSize             : 245694
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:22:037 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[245738], duration[2000ms]
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:22:037 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:22:530 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:22:530 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:22:530 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:22:530 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:22:530 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:54:22:530 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:54:22:530 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:54:22:530 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:54:22:530 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1456986160
[0;34m2026-02-12 17:54:24:826 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:24:826 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:24:826 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:25:202 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:25:202 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:25:202 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:25:202 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:25:202 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (donkey)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "duck" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/duck.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[0;32m2026-02-12 17:54:25:205 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:25:205 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:25:205 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/duck.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/duck.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/duck.wav
[0;32m2026-02-12 17:54:25:405 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/duck.wav
[0m[0;34m2026-02-12 17:54:25:405 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[0;32m2026-02-12 17:54:25:406 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:25:406 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/duck.wav, content_pos:0
[0m[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;34m2026-02-12 17:54:25:414 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]wav_extractor:   >dataSize             : 310442
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:25:414 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[310486], duration[3000ms]
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:25:414 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:25:907 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:25:907 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:25:907 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:25:907 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:25:907 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:54:25:907 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:54:25:907 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:54:25:907 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:54:25:907 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1457148312
[0;34m2026-02-12 17:54:28:828 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:28:829 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:28:829 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:29:201 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:29:201 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:29:201 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:29:201 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:29:201 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (duck)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "duck" (path=/home/pi/Music/test/duck.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:54:29:209 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:29:209 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:29:209 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/duck.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/duck.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/duck.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:29:410 I [liteplayer]core: Set player source: /home/pi/Music/test/duck.wav
[0m[0;34m2026-02-12 17:54:29:410 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:29:410 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:29:410 D [liteplayer]file: Opening file:/home/pi/Music/test/duck.wav, content_pos:0
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]wav_extractor:   >dataSize             : 310442
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:29:418 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[310486], duration[3000ms]
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:29:418 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:29:911 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:29:911 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:29:911 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:29:911 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:29:911 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:54:29:911 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:54:29:912 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:54:29:912 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:54:29:912 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1457340328
[0;34m2026-02-12 17:54:32:836 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:32:836 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:32:836 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:33:201 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:33:202 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:33:202 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:33:202 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:33:202 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (duck)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "elephant" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/elephant.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[0;32m2026-02-12 17:54:33:208 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:33:208 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:33:208 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/elephant.wav
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/elephant.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/elephant.wav
[0;32m2026-02-12 17:54:33:409 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/elephant.wav
[0m[0;34m2026-02-12 17:54:33:409 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[0;32m2026-02-12 17:54:33:410 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:33:410 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/animal/elephant.wav, content_pos:0
[0m[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;34m2026-02-12 17:54:33:421 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:33:421 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:33:421 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:33:421 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:33:421 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]wav_extractor:   >dataSize             : 271464
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:33:422 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[271508], duration[2000ms]
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:33:422 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[0;32m2026-02-12 17:54:33:912 I [liteplayer]core: Starting player[file]
[0m[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;34m2026-02-12 17:54:33:912 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:33:913 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:33:913 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:33:913 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;32m2026-02-12 17:54:33:913 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;34m2026-02-12 17:54:33:913 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[0;32m2026-02-12 17:54:33:913 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: [0;34m2026-02-12 17:54:33:913 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0m2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
Plug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1457532264
[0;34m2026-02-12 17:54:36:453 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:36:453 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:36:453 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:36:827 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:36:827 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:36:827 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:36:827 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:36:827 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (elephant)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "elephant" (path=/home/pi/Music/test/elephant.wav)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:54:36:837 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:36:837 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:36:837 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/Music/test/elephant.wav
[LitePlayerWrapper] loadFile called: /home/pi/Music/test/elephant.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/Music/test/elephant.wav
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:37:037 I [liteplayer]core: Set player source: /home/pi/Music/test/elephant.wav
[0m[0;34m2026-02-12 17:54:37:037 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:37:038 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:37:038 D [liteplayer]file: Opening file:/home/pi/Music/test/elephant.wav, content_pos:0
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]wav_extractor: WAV INFO:
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]wav_extractor:   >audioFormat          : 1
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]wav_extractor:   >sampleRate           : 48000
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]wav_extractor:   >channels             : 1
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]wav_extractor:   >bits                 : 16
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]wav_extractor:   >byteRate             : 96000
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]wav_extractor:   >blockAlign           : 2
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]wav_extractor:   >dataSize             : 271464
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]wav_extractor:   >dataOffset           : 44
[0m[0;32m2026-02-12 17:54:37:045 I [liteplayer]parser: MediaInfo: codec_type[1], samplerate[48000], channels[1], bits[16], pos[44], len[271508], duration[2000ms]
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2004 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:37:045 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:37:538 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:37:538 D [liteplayer]audio_element: [wav_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:37:538 D [liteplayer]audio_element: [wav_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:37:538 D [liteplayer]audio_element: [wav_decoder] el opened
[0m[0;34m2026-02-12 17:54:37:538 D [liteplayer]core: [ file-wav_decoder ] Receive started event
[0m[0;34m2026-02-12 17:54:37:538 D [liteplayer]audio_element: [wav_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:54:37:538 I [liteplayer]core: [ file-wav_decoder ] Receive codec info: samplerate=48000, ch=1, bits=16
[0m[0;32m2026-02-12 17:54:37:538 I [liteplayer]core: Opening sink: rate:48000, channels:1, bits:16
[0m[0;34m2026-02-12 17:54:37:538 D [liteplayer]alsa: Opening alsa: samplerate=48000, channels=1, bits=16
[0mPlug PCM: Route conversion PCM (sformat=S16_LE)
  Transformation table:
    0 <- 0
    1 <- 0
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 1
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1457706312
[0;34m2026-02-12 17:54:40:081 D [liteplayer]audio_element: [wav_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:40:081 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:40:081 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:40:451 D [liteplayer]audio_element: [wav_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:40:451 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:40:451 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:40:451 D [liteplayer]audio_element: [wav_decoder] closed
[0m[0;34m2026-02-12 17:54:40:451 D [liteplayer]core: [ file-wav_decoder ] Receive finished event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=0)
[PlaybackController] Track completed (auto-next requested)
[MusicPlayerService] Controller event: TrackEnded (elephant)
[PlaybackController::next] ========== START ==========
[PlaybackController::next] Setting isTransitioning_=true
[PlaybackController::next] Calling safeStopInternal...
[PlaybackController] safeStopInternal: already stopped/idle
[PlaybackController::next] Moving to next track in playlist
[PlaybackController::next] Starting new track...
[PlaybackController] startCurrentTrackInternal: "exercise" (path=/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3)
[PlaybackController] Releasing state lock, acquiring player lock...
[PlaybackController] âœ… Acquired player operation lock
[PlaybackController] Calling player_.reset()...
[LitePlayerWrapper] reset called
[LitePlayerWrapper] reset result=0
[PlaybackController] Waiting for reset to complete (200ms)...
[0;32m2026-02-12 17:54:40:454 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:40:454 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:40:454 D [liteplayer]core: [ file-wav_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 4 -> 4 (isTransitioning=1)
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] Loading file: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3
[LitePlayerWrapper] loadFile called: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_set_data_source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3
[LitePlayerWrapper] loadPlaylist calling listplayer_prepare_async
[LitePlayerWrapper] loadPlaylist finished
[LitePlayerWrapper] loadFile result: success
[PlaybackController] Waiting for async prepare (500ms)...
[0;32m2026-02-12 17:54:40:655 I [liteplayer]core: Set player source: /home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3
[0m[0;34m2026-02-12 17:54:40:655 D [liteplayer]core: Using source_wrapper: (file), sink_wrapper: (alsa)
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 0 -> 1 (isTransitioning=1)
[0;32m2026-02-12 17:54:40:655 I [liteplayer]core: Async preparing player[file]
[0m[0;34m2026-02-12 17:54:40:655 D [liteplayer]file: Opening file:/home/pi/dev/nora-xiaozhi-dev/assets/sounds/music/exercise.mp3, content_pos:0
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]parser: Discarding 6687 bytes to reach new offset
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]mp3_extractor: channels=2, sample_rate=44100, bit_rate=128, frame_size=417
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]mp3_extractor: MP3 INFO:
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]mp3_extractor:   >channels          : 2
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]mp3_extractor:   >sample_rate       : 44100
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]mp3_extractor:   >bit_rate          : 128
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]mp3_extractor:   >frame_size        : 417
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]mp3_extractor:   >frame_start_offset: 8735
[0m[0;32m2026-02-12 17:54:40:664 I [liteplayer]parser: MediaInfo: codec_type[2], samplerate[44100], channels[2], bits[16], pos[8735], len[388263], duration[23720ms]
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]parser: Mediasource will reuse source handle, save remaing 2048 bytes in ringbuf
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]core: [1.0] Create decoder element
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]core: [1.1] Create sink element
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]core: [1.2] Create source element, sync mode, ringbuf size: 2048
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]core: [2.0] Register event callback of decoder elements
[0m[0;34m2026-02-12 17:54:40:664 D [liteplayer]core: [3.0] Run decoder element
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 1
[PlaybackController] State transition: 1 -> 1 (isTransitioning=1)
[PlaybackController] Calling player_.start()...
[LitePlayerWrapper] start called, current state=1
[LitePlayerWrapper] start result=0
[PlaybackController] âœ… Track started successfully
[PlaybackController::next] ========== END (result=1) ==========
[0;32m2026-02-12 17:54:41:155 I [liteplayer]core: Starting player[file]
[0m[0;34m2026-02-12 17:54:41:155 D [liteplayer]audio_element: [mp3_decoder] opening input reader
[0m[0;34m2026-02-12 17:54:41:155 D [liteplayer]audio_element: [mp3_decoder] opening output writer
[0m[0;34m2026-02-12 17:54:41:155 D [liteplayer]audio_element: [mp3_decoder] el opened
[0m[0;34m2026-02-12 17:54:41:155 D [liteplayer]core: [ file-mp3_decoder ] Receive started event
[0m[0;34m2026-02-12 17:54:41:155 D [liteplayer]audio_element: [mp3_decoder] Element resumed
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 2
[PlaybackController] State transition: 1 -> 2 (isTransitioning=0)
[0;32m2026-02-12 17:54:41:156 I [liteplayer]core: [ file-mp3_decoder ] Receive codec info: samplerate=44100, ch=2, bits=16
[0m[0;32m2026-02-12 17:54:41:156 I [liteplayer]core: Opening sink: rate:44100, channels:2, bits:16
[0m[0;34m2026-02-12 17:54:41:156 D [liteplayer]alsa: Opening alsa: samplerate=44100, channels=2, bits=16
[0mPlug PCM: Rate conversion PCM (48000, sformat=S16_LE)
Converter: libsamplerate
Protocol version: 10002
Its setup is:
  stream       : PLAYBACK
  access       : RW_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 44100
  exact rate   : 44100 (44100/1)
  msbits       : 16
  buffer_size  : 16537
  period_size  : 5512
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 5512
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 16537
  silence_threshold: 0
  silence_size : 0
  boundary     : 4654751689864118272
Slave: Direct Stream Mixing PCM
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : NONE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 18000
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
Hardware PCM card 0 'wm8960-soundcard' device 0 subdevice 0
Its setup is:
  stream       : PLAYBACK
  access       : MMAP_INTERLEAVED
  format       : S16_LE
  subformat    : STD
  channels     : 2
  rate         : 48000
  exact rate   : 48000 (48000/1)
  msbits       : 16
  buffer_size  : 18000
  period_size  : 6000
  period_time  : 125000
  tstamp_mode  : ENABLE
  tstamp_type  : MONOTONIC
  period_step  : 1
  avail_min    : 6000
  period_event : 0
  start_threshold  : 1
  stop_threshold   : 0
  silence_threshold: 0
  silence_size : 0
  boundary     : 5066549580791808000
  appl_ptr     : 0
  hw_ptr       : 1457880160
[MusicPlayerService] Received command: stop
[PlaybackController::stop] ========== START ==========
[PlaybackController] safeStopInternal: initiating stop from state=2
[PlaybackController] safeStopInternal: calling player_.stop() with player lock
[0;32m2026-02-12 17:54:58:531 I [liteplayer]core: Stopping player[file]
[0m[PlaybackController] safeStopInternal: stop called, waiting for Stopped state...
[0;34m2026-02-12 17:54:58:576 D [liteplayer]audio_element: [mp3_decoder] closing output writer
[0m[0;32m2026-02-12 17:54:58:576 I [liteplayer]core: Closing sink
[0m[0;34m2026-02-12 17:54:58:576 D [liteplayer]alsa: closing alsa
[0m[0;34m2026-02-12 17:54:58:951 D [liteplayer]audio_element: [mp3_decoder] closing input reader
[0m[0;32m2026-02-12 17:54:58:952 I [liteplayer]core: Closing source
[0m[0;34m2026-02-12 17:54:58:952 D [liteplayer]file: Closing file:0x7fa4000b60
[0m[0;34m2026-02-12 17:54:58:952 D [liteplayer]audio_element: [mp3_decoder] closed
[0m[0;34m2026-02-12 17:54:58:952 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[PlaybackController::onPlayerStateChanged] Callback thread - new state: 4
[PlaybackController] State transition: 2 -> 4 (isTransitioning=1)
[PlaybackController] safeStopInternal: reached Stopped state
[PlaybackController] safeStopInternal: calling player_.reset() with player lock
[LitePlayerWrapper] reset called
[0;32m2026-02-12 17:54:58:952 I [liteplayer]core: Resetting player[file]
[0m[0;34m2026-02-12 17:54:58:952 D [liteplayer]core: Destroy audio decoder
[0m[0;34m2026-02-12 17:54:58:952 D [liteplayer]core: [ file-mp3_decoder ] Receive stopped event
[0m[LitePlayerWrapper] reset result=0
[PlaybackController::onPlayerStateChanged] Callback thread - new state: 0
[PlaybackController] State transition: 4 -> 0 (isTransitioning=1)
[PlaybackController] safeStopInternal: completed
[PlaybackController::stop] ========== END ==========
[MusicPlayerService] â¹ï¸  Stopped
[MusicPlayerService] Sending response for: stop
[MusicPlayerService] Response sent
