============================================================
  Music Player Service - Test Suite
============================================================
âœ… Connected to music player service
   Command: ipc:///tmp/music_player_cmd.sock
   Events:  ipc:///tmp/music_player_event.sock

============================================================
Test 1: Get Status
============================================================

ğŸ“¤ Sending: get_status
   Params: {}
ğŸ“¥ Response: success
   Result: {'current_track_id': 0, 'duration_ms': -1, 'position_ms': 0, 'state': 'stopped', 'volume': 100}

============================================================
Test 2: Add Track
============================================================

ğŸ“¤ Sending: add_track
   Params: {'file_path': '/music/test_1770868547.mp3', 'title': 'Test Song', 'artist': 'Test Artist', 'album': 'Test Album', 'year': 2024, 'duration_ms': 180000}
ğŸ“¥ Response: success
   Result: {'message': 'Track added successfully', 'track_id': 1}

============================================================
Test 3: Get Track
============================================================

ğŸ“¤ Sending: get_track
   Params: {'track_id': 1}
ğŸ“¥ Response: success
   Result: {'album': 'Test Album', 'artist': 'Test Artist', 'duration_ms': 180000, 'id': 1, 'is_favorite': False, 'play_count': 0, 'title': 'Test Song', 'year': 2024}

============================================================
Test 4: Get All Tracks
============================================================

ğŸ“¤ Sending: get_all_tracks
   Params: {'limit': 10}
ğŸ“¥ Response: success
   Result: {'count': 1, 'tracks': [{'album': 'Test Album', 'artist': 'Test Artist', 'id': 1, 'title': 'Test Song'}]}
   ğŸ“š Total tracks: 1

============================================================
Test 5: Search Tracks
============================================================

ğŸ“¤ Sending: search_tracks
   Params: {'query': 'Test', 'limit': 5}
ğŸ“¥ Response: success
   Result: {'count': 1, 'tracks': [{'album': 'Test Album', 'artist': 'Test Artist', 'id': 1, 'title': 'Test Song'}]}
   ğŸ” Found: 1 tracks

============================================================
Test 6: Playback Control
============================================================

ğŸ“¤ Sending: play
   Params: {}
ğŸ“¥ Response: success
   Result: {'current_track': 'Test Song', 'duration_ms': -1, 'message': 'Playback started', 'position_ms': 0, 'status': 'playing'}

ğŸ“¤ Sending: pause
   Params: {}
ğŸ“¥ Response: error
   âŒ Error: Failed to pause playback

ğŸ“¤ Sending: stop
   Params: {}
ğŸ“¥ Response: success
   Result: {'message': 'Playback stopped', 'status': 'stopped'}

============================================================
Test 7: Navigation Control
============================================================

ğŸ“¤ Sending: next
   Params: {}
ğŸ“¥ Response: error
   âŒ Error: Failed to skip to next track

ğŸ“¤ Sending: previous
   Params: {}
ğŸ“¥ Response: error
   âŒ Error: Failed to skip to previous track

============================================================
Test 8: Event Subscription
============================================================

ğŸ“¡ Listening for events (3s)...
   [11:55:47] track_added: {'title': 'Test Song', 'track_id': 1}
   [11:55:48] heartbeat: {'status': 'alive'}
   [11:55:53] heartbeat: {'status': 'alive'}
   Total events received: 3

============================================================
  âœ… All tests completed!
============================================================

âœ… Connection closed
